{"version":3,"sources":["webpack:///src/components/bind_card/bind_card.vue","webpack:///./src/components/bind_card/bind_card.vue?84fe","webpack:///./src/components/bind_card/bind_card.vue"],"names":["bind_card","name","data","cardNo","password","tipInfo","icon","txt","loading","warnTip","components","MyToast","toast","back","mounted","_this2","this","$nextTick","window","kb","keyBoard","chaosMode","pressStatus","kbType","svg","generate","passGuard1","passGuard","mappurl","maxLength","regExp1","regExp2","displayMode","callBack","cb1","errorCallBack","cb2","rsaPublicKey","methods","beHide","bool","confirm","type","getValid","_this","$","ajax","url","get_time","async","success","ranKey","console","log","setRandKey","getOutput","document","getElementById","value","i","Le","attr","PH","arrPlace","cardPayViewVisible","$myLoading","open","text","spinnerType","$http","post","API","user","card_no","key","then","res","close","return_code","$router","go","$myToast","return_msg","Date","getTime","toString","bind_card_bind_card","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","for","_v","directives","rawName","expression","id","placeholder","domProps","on","input","$event","target","composing","maxlength","click","visible","options","hideToast","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+KAsBAA,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,OAAA,GACAC,SAAA,GACAC,SACAC,KAAA,GACAC,IAAA,IAEAC,SAAA,EACAC,SAAA,IAGAC,YACAC,QAAAC,EAAA,EACAC,OAAA,GAEAC,QAlBA,WAkBA,IAAAC,EAAAC,KACAA,KAAAC,UAAA,WACAC,OAAAC,GAAA,IAAAC,UACAC,UAAA,EACAC,YAAA,EACAC,OAAA,EACAC,IAAA,eAEAN,OAAAC,GAAAM,WACAP,OAAAQ,WAAA,IAAAC,WACAC,QAAA,oDACAC,UAAA,EACAC,QAAA,WACAC,QAAA,cACAC,YAAA,EACAC,SAAAlB,EAAAmB,IACAC,cAAApB,EAAAqB,IAEAC,aAAA,6RAEAnB,OAAAQ,WAAAD,SAAA,MAAAP,OAAAC,GAAA,MAIAmB,SACAC,OADA,SACAC,GACAxB,KAAAP,QAAA+B,GAEAC,QAJA,WAMA,IAAAzB,KAAAb,OAMA,OALAa,KAAAP,SAAA,EACAO,KAAAX,SACAqC,KAAA,OACAnC,IAAA,UAEA,EAGA,MAAAW,OAAAQ,WAAAiB,WAMA,OALA3B,KAAAP,SAAA,EACAO,KAAAX,SACAqC,KAAA,OACAnC,IAAA,eAEA,EAGA,IAAAqC,EAAA5B,KAEA6B,EAAAC,MACAC,IAAA,qDAAA/B,KAAAgC,WACAN,KAAA,MACAO,OAAA,EACAC,QAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAjC,OAAAQ,WAAA4B,WAAAH,GACA,IAAA/C,EAAAc,OAAAQ,WAAA6B,YACAC,SAAAC,eAAA,OAAAC,MAAA,GAEA,QAAAC,EAAA,EAAAA,GAAAC,GAAAD,IACAd,EAAA,MAAAc,GAAAE,KAAA,cAAAC,GAAAC,SAAAJ,EAAA,IAEAf,EAAAoB,oBAAA,EACAZ,QAAAC,IAAAjD,GACAwC,EAAAqB,WAAAC,MAAAC,KAAA,SAAAC,YAAA,kBACAxB,EAAApC,SAAA,EACAoC,EAAAyB,MAAAC,KAAA1B,EAAA2B,IAAAC,KAAAxE,WAAAyE,QAAA7B,EAAAzC,OAAAC,WAAAsE,IAAAvB,IAAAwB,KAAA,SAAAC,GAGA,OAFAhC,EAAAqB,WAAAY,QACAjC,EAAApC,SAAA,EACA,SAAAoE,EAAAE,aACAlC,EAAAmC,QAAAC,IAAA,IACA,IAEApC,EAAAqC,SAAAL,EAAAM,aACA,SAyBAhD,IA5EA,WA6EAkB,QAAAC,IAAA,QAEAjB,IA/EA,WAgFAgB,QAAAC,IAAA,QAEAL,SAlFA,WAmFA,WAAAmC,MAAAC,UAAAC,cChJAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAxE,KAAayE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,SAAcG,OAAOC,IAAA,YAAgBP,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAAyCM,aAAahG,KAAA,QAAAiG,QAAA,UAAAxC,MAAA8B,EAAA,OAAAW,WAAA,WAAsEL,OAASpD,KAAA,MAAA0D,GAAA,SAAAC,YAAA,SAAiDC,UAAW5C,MAAA8B,EAAA,QAAqBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAArF,OAAAsG,EAAAC,OAAAhD,aAAiC8B,EAAAQ,GAAA,KAAAL,EAAA,OAA0BE,YAAA,yBAAmCF,EAAA,SAAcG,OAAOC,IAAA,SAAaP,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAA2CM,aAAahG,KAAA,QAAAiG,QAAA,UAAAxC,MAAA8B,EAAA,SAAAW,WAAA,aAA0EL,OAASpD,KAAA,MAAAkE,UAAA,IAAAR,GAAA,MAAAC,YAAA,UAA+DC,UAAW5C,MAAA8B,EAAA,UAAuBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAApF,SAAAqG,EAAAC,OAAAhD,aAAmC8B,EAAAQ,GAAA,KAAAL,EAAA,UAA6BE,YAAA,UAAAU,IAA0BM,MAAArB,EAAA/C,WAAqB+C,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAAAH,EAAAQ,GAAA,KAAAL,EAAA,YAAmEE,YAAA,kBAAAC,OAAqCgB,QAAAtB,EAAA/E,QAAAsG,QAAAvB,EAAAnF,SAA4CkG,IAAKS,UAAAxB,EAAAjD,WAAwB,IAElrC0E,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACApH,EACAsF,GATA,EAVA,SAAA+B,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/50.c827054d19d590f5cdfc.js","sourcesContent":["<template>\n  <div class=\"bind-card-page\">\n    <div class=\"input-box reset-pw\">\n      <label for=\"cardNo\">卡号</label>\n      <input type=\"tel\" id=\"cardNo\" v-model=\"cardNo\" placeholder=\"请输入卡号\"/>\n    </div>\n    <div class=\"input-box confirm-pw\">\n      <label for=\"kb1\">支付密码</label>\n      <input type=\"tel\" maxlength=\"6\" id=\"kb1\" v-model=\"password\" placeholder=\"请输入卡密码\"/>\n    </div>\n    <button class=\"confirm\" @click=\"confirm\">绑卡</button>\n    <back></back>\n    <my-toast :visible=\"warnTip\" :options=\"tipInfo\" @hideToast=\"beHide\" class=\"customize-toast\"></my-toast>\n  </div>\n</template>\n\n<script>\n  import MyToast from '../../base/toast'\n  import Valid from '../../utils/valid'\n  import Encrypt from \"../../assets/js/encrypt/encrypt\"\n  import back from '../../base/back'\n\n  export default {\n    name: \"bind_card\",\n    data () {\n      return {\n        cardNo: '',\n        password: '',\n        tipInfo: {\n          icon: '',\n          txt: ''\n        },\n        loading: false,\n        warnTip: false\n      }\n    },\n    components: {\n      MyToast,\n      back\n    },\n    mounted () {\n      this.$nextTick(() => {\n        window.kb = new keyBoard({\n          \"chaosMode\" : 1,// 混乱模式,0:无混乱;1:打开时乱一次;2:每输入一个字符乱一次,默认值0\n          \"pressStatus\" :1,// 按键状态,0:按下、抬起按键无变化;1:按下后有放大镜效果;2:按下、抬起按键的颜色变化,默认值0\n          \"kbType\" : 0,// 键盘类型,0:全键盘;1:纯数字键盘,默认值0\n          \"svg\":\"static/svg\"//svg图片的地址\n        })\n        window.kb.generate()\n        window.passGuard1 = new passGuard({\n          \"mappurl\" : \"http://ceshi4.sdykt.com.cn:1280/demo/send_mapping\",\n          \"maxLength\" : 6,// 最大输入长度\n          \"regExp1\" : \"[\\\\S\\\\s]\",// 输入过程限制的正则\n          \"regExp2\": \"[0-9]{6,12}\",\n          \"displayMode\" : 0,// 显示形式,0:星号;1:明文,默认值0\n          \"callBack\":this.cb1,//成功回调\n          \"errorCallBack\":this.cb2,//失败回调3081890281810092d9d8d04fb5f8ef9b8374f21690fd46fdbf49b40eeccdf416b4e2ac2044b0cfe3bd67eb4416b26fd18c9d3833770a526fd1ab66a83ed969af74238d6c900403fc498154ec74eaf420e7338675cad7f19332b4a56be4ff946b662a3c2d217efbe4dc646fb742b8c62bfe8e25fd5dc59e7540695fa8b9cd5bfd9f92dfad009d230203010001\n          // \"rsaPublicKey\" : \"3081890281810092d9d8d04fb5f8ef9b8374f21690fd46fdbf49b40eeccdf416b4e2ac2044b0cfe3bd67eb4416b26fd18c9d3833770a526fd1ab66a83ed969af74238d6c900403fc498154ec74eaf420e7338675cad7f19332b4a56be4ff946b662a3c2d217efbe4dc646fb742b8c62bfe8e25fd5dc59e7540695fa8b9cd5bfd9f92dfad009d230203010001\"// rsa公钥\n          \"rsaPublicKey\" : \"30818902818100d17951540859261bcbb00fc61a9e2fb8be1f5794dabd87e87bbac84e975ac7f6f77a094c6b642b3a799bdbdf13841a47943cfb0831578b2e4d82f177b9350e211db3dc84111eb4f0b92bc7d1379436a0f631be371682839461a11d6d2e65cb0c45c526d15429b706ff14498e3fd6c4683ca1092054f5ac95f679ba699fd789d50203010001\"// rsa公钥\n        })\n        window.passGuard1.generate(\"kb1\",window.kb,1)\n      })\n\n    },\n    methods: {\n      beHide (bool) {\n        this.warnTip = bool\n      },\n      confirm () {\n\n        if (!this.cardNo) {\n          this.warnTip = true\n          this.tipInfo = {\n            type: 'warn',\n            txt: '请输入卡号'\n          }\n          return false\n        }\n\n        if(window.passGuard1.getValid() == 1){\n          this.warnTip = true\n          this.tipInfo = {\n            type: 'warn',\n            txt: '请输入6位数交易密码'\n          }\n          return false\n        }\n\n        let _this = this\n\n        $.ajax( {\n          url : \"http://ceshi4.sdykt.com.cn:1280/demo/send_randkey?\" + this.get_time(),\n          type : \"GET\",\n          async : false,\n          success : function(ranKey) {\n            console.log(ranKey)\n            window.passGuard1.setRandKey(ranKey);\n            let password = window.passGuard1.getOutput()\n            document.getElementById(\"kb1\").value = \"\";\n            //这一段for循环，如果没用必须加上，防止placeholder效果失效。\n            for(var i = 1;i <= Le;i++){\n              $(\"#kb\"+i).attr('placeholder',PH.arrPlace[i-1])\n            }\n            _this.cardPayViewVisible = false\n            console.log(password)\n            _this.$myLoading.open({ text: '加载中...', spinnerType: 'fading-circle'})\n            _this.loading = true\n            _this.$http.post(_this.API.user.bind_card,{card_no: _this.cardNo, password: password, key: ranKey}).then(res => {\n              _this.$myLoading.close()\n              _this.loading = false\n              if (res.return_code === '0000') {\n                _this.$router.go(-1)\n                return true\n              } else {\n                _this.$myToast(res.return_msg)\n                return false\n              }\n            })\n          }\n        })\n\n        // this.$http.post(this.API.user.change_paycode,{cur_code: Encrypt.encrypt(this.nowPw), new_code: Encrypt.encrypt(this.resetPw)}).then(res => {\n        //   if (res.return_code === '0000') {\n        //     this.warnTip = true\n        //     this.tipInfo = {\n        //       type: 'success',\n        //       txt: '修改成功'\n        //     }\n        //     this.$router.go(-1)\n        //     return true\n        //   } else {\n        //     this.warnTip = true\n        //     this.tipInfo = {\n        //       type: 'error',\n        //       txt: res.return_msg\n        //     }\n        //     return false\n        //   }\n        // })\n      },\n      cb1 () {\n        console.log('cb1')\n      },\n      cb2 () {\n        console.log('cb2')\n      },\n      get_time () {\n        return new Date().getTime().toString();\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../assets/css/mixin\";\n  @import \"../../assets/css/common\";\n  .bind-card-page{\n    position: relative;\n    height: 100%;\n    .input-box{\n      position: relative;\n      display: flex;\n      align-items: center;\n      width: 100%;\n      background-color: #ffffff;\n      height: 100px;\n      padding: 0 30px;\n      font-size: 28px;/*px*/\n      label{\n        padding-top: 3px;\n        width: 150px;\n      }\n      input{\n        height: 100px;\n        line-height: 1.5em;\n        vertical-align: middle;\n        font-size: 28px;/*px*/\n\n      }\n      input::-webkit-input-placeholder{\n        color:#bbbbbb;\n        vertical-align: middle;\n      }\n      input::-moz-placeholder{   /* Mozilla Firefox 19+ */\n        color:#bbbbbb;\n        vertical-align: middle;\n      }\n      input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\n        color:#bbbbbb;\n\n        vertical-align: middle;\n      }\n      input:-ms-input-placeholder{  /* Internet Explorer 10-11 */\n        color:#bbbbbb;\n      }\n      &:after{\n        @include border-1px(#e5e5e5, bottom);\n      }\n    }\n    .reset-pw{\n      &:before{\n        @include border-1px(#e5e5e5, bottom);\n      }\n    }\n    .tip{\n      line-height: 60px;\n      color: #999999;\n      font-size: 24px;/*px*/\n      padding: 0 30px;\n    }\n    .confirm{\n      display: block;\n      width: 690px;\n      height: 88px;\n      margin: 0 auto;\n      margin-top: 90px;\n      background-color: $themeColor;\n      border-radius: 8px;\n      font-size: 30px;/*px*/\n      color: #333333;\n    }\n    .support{\n      position: absolute;\n      bottom: 0;\n      line-height: 80px;\n      width: 100%;\n      text-align: center;\n      color: #c1c1c1;\n      font-size: 26px;/*px*/\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/bind_card/bind_card.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bind-card-page\"},[_c('div',{staticClass:\"input-box reset-pw\"},[_c('label',{attrs:{\"for\":\"cardNo\"}},[_vm._v(\"卡号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cardNo),expression:\"cardNo\"}],attrs:{\"type\":\"tel\",\"id\":\"cardNo\",\"placeholder\":\"请输入卡号\"},domProps:{\"value\":(_vm.cardNo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cardNo=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box confirm-pw\"},[_c('label',{attrs:{\"for\":\"kb1\"}},[_vm._v(\"支付密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"tel\",\"maxlength\":\"6\",\"id\":\"kb1\",\"placeholder\":\"请输入卡密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"confirm\",on:{\"click\":_vm.confirm}},[_vm._v(\"绑卡\")]),_vm._v(\" \"),_c('back'),_vm._v(\" \"),_c('my-toast',{staticClass:\"customize-toast\",attrs:{\"visible\":_vm.warnTip,\"options\":_vm.tipInfo},on:{\"hideToast\":_vm.beHide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63f1f0a3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bind_card/bind_card.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63f1f0a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bind_card.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bind_card.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bind_card.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63f1f0a3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bind_card.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63f1f0a3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bind_card/bind_card.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}