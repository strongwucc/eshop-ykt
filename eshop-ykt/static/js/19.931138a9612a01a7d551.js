webpackJsonp([19],{"1Tq5":function(s,t,i){s.exports=i.p+"static/img/member_bg.fa69264.png"},"6PP3":function(s,t,i){s.exports=i.p+"static/img/img_jifenjilu.b80236b.png"},BCiX:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2NzMxMTgzOUM1RjExRThBNzIxOUM0NEZCMDRBNjg5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ2NzMxMTg0OUM1RjExRThBNzIxOUM0NEZCMDRBNjg5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDY3MzExODE5QzVGMTFFOEE3MjE5QzQ0RkIwNEE2ODkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDY3MzExODI5QzVGMTFFOEE3MjE5QzQ0RkIwNEE2ODkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5apDgvAAACEElEQVR42uyYPUjDUBSFEykUpYq6K/4PLnWoirSgHeyuIHTr5OboUqT+VZwcRNw6OTk4uDjpYIeqBTvooIP/WN1Fq4IU43lwlEdpNElTyZALH6FJe9/JzbvnvVTVNE1xUtQoDgvHCfKUOxkIBPS+3wtGQB/oAa2gEfh4vQCewD24ACcgDc7LJcvlcsYElUQLmAQxCvgtmkg7GJbOC4EbIAXypiskXZsF06CW5x7AHjhmBW5YkQKv+1ixDlawH4zyRhLMtQIWQbHcoGq5LsMjq8NhG0TAJ9gC6+AAmG1LFQTBFJjgvN0FY3hkb0Yn9RLFPDJZFGQsiFH4mwxzBJkzwjEMd1mMx3GQtbGJsswpj2FIUDOPH1Xo7NeSMUz5kJhHAzaKGQQ7lRhjGzgCmyDECapYmNQh5jhkTkttLyLJVo2SPI1OJL6U2v6F36+X2r4bDIEwvUzEO9s+oatep+016e7MGKNelBqjRqdWrTh1ngY5x6UjzKWji+VvYGUUVuoZ3IErLh37XDoMWYbHpJ+cEXf74VhBYu54bRzPy7loWdACuAXxv/zDgJ/FmWveDh9aJqdc8cXO6prd9N1ZitRxQkCncBAuqH7Jh5KuD7k+5ApyoqBV7harZYwi95oZQTPc91TLGNP8bNiH9N7L7DDGn/cys2+uRQpKScbol5JXYowV+dC/GqPq/j/kCqowvgQYAAy9t4Px0m+5AAAAAElFTkSuQmCC"},i6fM:function(s,t){},vRwv:function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=i("Dd8w"),a=i.n(e),n=i("NYxO"),c={name:"my_scores",data:function(){return{transactionList:[],page:1,pageLimit:8,scoresDescViewVisible:!1,loading:!1,allLoaded:!1,rules:{}}},components:{back:i("3XNK").a},created:function(){},mounted:function(){var s=this;setTimeout(function(){s.setScrollHeight(),s.loadMore()},20)},computed:a()({},Object(n.c)(["user"])),methods:{setScrollHeight:function(){var s=window.innerHeight-(this.$refs.banner.offsetHeight+this.$refs.title.offsetHeight);this.$refs.scrollBox.style.height=s+"px",this.$refs.noTrans.style.height=s-80+"px"},loadMore:function(){var s=this;this.loading=!0,this.$http.post(this.API.user.member_scores,{page:this.page,page_limit:this.pageLimit}).then(function(t){s.loading=!1,"0000"===t.return_code&&(s.transactionList=s.transactionList.concat(t.data.list),s.rules=t.data.rules,t.data.total<=s.page?s.allLoaded=!0:s.page+=1)})}}},r={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"my-scores-page"},[e("div",{ref:"banner",staticClass:"banner"},[e("img",{staticClass:"bcg-img",attrs:{src:i("1Tq5")}}),s._v(" "),e("div",{staticClass:"scores"},[e("p",{staticClass:"num"},[s._v(s._s(s.user.user_info.point))]),s._v(" "),s._m(0)]),s._v(" "),e("button",{staticClass:"scores-description",on:{click:function(t){s.scoresDescViewVisible=!0}}},[s._v("积分说明")])]),s._v(" "),e("div",{staticClass:"scores-detail"},[e("div",{ref:"title",staticClass:"title"},[e("img",{attrs:{src:i("BCiX")}}),s._v("\n      积分交易明细\n    ")]),s._v(" "),e("div",{ref:"scrollBox",staticClass:"scroll-box"},[e("div",{directives:[{name:"show",rawName:"v-show",value:Array.isArray(s.transactionList)&&!s.transactionList.length,expression:"Array.isArray(transactionList) && !transactionList.length"}],ref:"noTrans",staticClass:"no-transaction"},[e("img",{attrs:{src:i("6PP3")}}),s._v(" "),e("p",[s._v("还没有积分记录哦~")])]),s._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:Array.isArray(s.transactionList)&&s.transactionList.length,expression:"Array.isArray(transactionList) && transactionList.length"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:s.loadMore,expression:"loadMore"}],ref:"transList",staticClass:"transaction-list",attrs:{"infinite-scroll-disabled":"allLoaded","infinite-scroll-immediate-check":"false","infinite-scroll-distance":"50"}},s._l(s.transactionList,function(t){return e("li",{staticClass:"transaction-info"},[e("div",{staticClass:"left"},[e("h3",{staticClass:"store-name"},[t.store_name?[s._v(s._s(t.store_name)+" -")]:s._e(),s._v("\n              "+s._s(t.reason)+"\n            ")],2),s._v(" "),t.related_id>0?e("p",{staticClass:"order-NO"},[s._v("订单号："+s._s(t.related_id))]):s._e(),s._v(" "),e("p",{staticClass:"order-date"},[s._v("时间："+s._s(s._f("toDate")(t.addtime)))])]),s._v(" "),e("div",{staticClass:"right"},[t.change_point>0?[s._v("+")]:s._e(),s._v(s._s(t.change_point)+"\n          ")],2)])})),s._v(" "),s.allLoaded?s._e():e("p",{staticClass:"load-more"},[e("i",{staticClass:"fa fa-circle-o-notch fa-spin"}),s._v(" 加载中...")]),s._v(" "),s.allLoaded?e("p",{staticClass:"no-more"},[s._v("已加载全部")]):s._e()])]),s._v(" "),e("mt-popup",{attrs:{"popup-transition":"popup-fade"},model:{value:s.scoresDescViewVisible,callback:function(t){s.scoresDescViewVisible=t},expression:"scoresDescViewVisible"}},[e("div",{staticClass:"scores-desc-view"},[e("div",{staticClass:"view-main"},[e("div",{staticClass:"title"},[e("i"),s._v(" "),e("span",[s._v("积分说明")]),s._v(" "),e("i")]),s._v(" "),e("div",{staticClass:"main"},[e("p",{staticClass:"rule"},[e("span",[s._v("积分规则：")]),s._v(" "),s.rules.get_rate?[s._v("消费"+s._s(s.rules.get_rate)+"元获得1积分")]:s._e()],2),s._v(" "),e("p",{staticClass:"deduction"},[e("span",[s._v("积分抵扣：")]),s._v(" "),s.rules.rule_name?[s._v(s._s(s.rules.rule_name))]:s._e()],2)])]),s._v(" "),e("div",{staticClass:"hide-view",on:{click:function(t){s.scoresDescViewVisible=!1}}},[e("img",{attrs:{src:i("4BH9")}})])])]),s._v(" "),e("back")],1)},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"txt"},[t("i"),this._v(" "),t("span",[this._v("我的积分")]),this._v(" "),t("i")])}]};var l=i("VU/8")(c,r,!1,function(s){i("i6fM")},"data-v-7f925544",null);t.default=l.exports}});
//# sourceMappingURL=19.931138a9612a01a7d551.js.map