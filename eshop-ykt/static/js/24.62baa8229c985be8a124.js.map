{"version":3,"sources":["webpack:///src/base/take_out_floating.vue","webpack:///./src/base/take_out_floating.vue?98f1","webpack:///./src/base/take_out_floating.vue","webpack:///src/base/take_out_cart_info.vue","webpack:///./src/base/take_out_cart_info.vue?2720","webpack:///./src/base/take_out_cart_info.vue","webpack:///src/components/take_out/take_out.vue","webpack:///./src/components/take_out/take_out.vue?9d8b","webpack:///./src/components/take_out/take_out.vue"],"names":["take_out_floating","name","data","featuresViewVisible","props","appending","type","Boolean","default","computed","extends_default","Object","vuex_esm","cartInfo","state","cart","storeInfo","common","common_data","store_info","totalNum","num","this","cartList","length","forEach","cartItem","parseInt","totalPrice","goodsPrice","adjunctsPrice","goodsItem","member_price","adjunct","adjunctItem","NP","round","minimum","$store","created","methods","featuresViewtoggle","showCart","$emit","goSettle","$router","push","base_take_out_floating","render","_vm","_h","$createElement","_c","_self","ref","staticClass","on","click","attrs","src","__webpack_require__","_v","directives","rawName","value","expression","$event","_s","_e","_f","stopPropagation","staticRenderFns","src_base_take_out_floating","normalizeComponent","ssrContext","take_out_cart_info","components","BuyCart","watch","mounted","$nextTick","storeId","store_id","cartNum","cartIndex","wrapperAttr","maxHeight","$refs","cartSpecification","offsetHeight","headHeight","title","specification","wrapper","style","height","addToCart","goods","product_id","product","goods_bn","bn","image_url","price","unit","catId","cat_id","adjunctData","adjunctsData","taste","tastesData","addCart","base_take_out_cart_info","clearCart","_l","parseFloat","foods","index","i","props_name","j","src_base_take_out_cart_info","take_out_cart_info_normalizeComponent","dpr","document","querySelector","getAttribute","take_out","windowHeight","standardLength","showSimulationBtn","showStoreInfo","showLoading","$route","params","directlyAdd","operation","blockSearhIocn","graySearhIocn","dishes","bodyScroll","sideScroll","mainScroll","mainReachTop","sideReachTop","jsScroll","goodsTitleListTop","goodsListTop","mainLengthDifference","catIndex","catIndexChange","showMoveDot","categoryNum","cartFoodList","specsVisible","specificationInfo","goodsDetailVisible","goodsPic","storeInf","store_log","desk","store_name","open_time","gettingGoodsDetail","cartInfoVisible","Goods","take_out_goods","Floating","StoreInfo","GoodsSpecification","take_out_goods_specification","CartSpecification","val","_bodyScroll","enable","scrollTo","disable","_sideScroll","touchStartX","elementsStyle","SIDE_WIDTH","children","sideScrollHeight","sideScrollBox","_this","getdishesHeight","beforeDestroy","beforeRouteEnter","to","from","next","vm","getStoreInfo","assign_default","_this2","getCartInfo","setTimeout","_getStyle","_setStyle","_bodyScrollEvent","_pageTouchListener","axiosAll","_this3","$http","post","API","seller","desk_id","deskId","then","res","return_code","store","set_user_cart","user_cart","set_common_data_store_info","set_common_data_desk_info","$myToast","return_msg","goSearch","initDishes","seller_goods","_this4","$myLoading","open","text","spinnerType","all","result","list","catIdList","item","close","changeCategroyNum","numArr","showSpecsList","_this5","store_goods_detail","detail","showCartInfo","floating","floatingBox","zIndex","closeSpecsList","closeCartInfo","isClose","showGoodsDetail","_this6","goodsListContainer","mainScrollBox","goodsTitleListContainer","goodsListArr","from_default","goodsTitleListArr","offsetTop","array","_sideScrollEvent","_mainScrollEvent","chooseMenu","SCROLL_HEIGHT","_mainScroll","showMoveDotFun","elLeft","elBottom","concat","toConsumableArray_default","beforeEnter","el","transform","opacity","afterEnter","_this7","transition","map","addEventListener","listenInCart","$passiveSupported","passive","receiveInCart","getElementById","window","innerHeight","banner","searchIcon","tableNum","side","_100px","offsetWidth","REDUCE_HEIGHT","SEARCHICON_TRANSLATE_Y","SEARCHICON_TRANSLATE_X","innerWidth","SEARCHICON_INIT_WIDTH","SEARCH_ADD_WIDTH","SEARCHICON_INIT_RADIUS","SEARCHICON_ADD_RADIUS","SEARCHICON_GRAY","SIDE_HEIGHT","SIDE_UL_HEIGHT","_wrapper","paddingTop","overview","_this8","bscroll_esm","scrollWrapper","scrollY","bounce","probeType","flickLimitDistance","logo","elHei","pos","y","toFixed","ratio","width","borderRadius","_this9","_this10","Math","abs","that","homePage","e","touches","pageX","touchStartY","pageY","touchEndY","changedTouches","take_out_take_out","visibility","id","_m","touchstart","key","class","activity_menu","cat_name","catList","items","showSpecs","moveInCart","position","model","callback","$$v","info","closeSpecs","popup-transition","input","closeCart","show_info","store-info","appear","after-appear","before-appear","take_out_Component","take_out_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/24.62baa8229c985be8a124.js","sourcesContent":["<template>\r\n  <div class=\"floating-box\" ref=\"floatingBox\">\r\n    <div class=\"features\">\r\n      <div class=\"title\" @click=\"featuresViewtoggle\">\r\n        <img class=\"icon\" src=\"../assets/img/home/icon_function@2x.png\">\r\n        功能\r\n      </div>\r\n      <ul class=\"list\" v-show=\"featuresViewVisible\">\r\n        <li @click=\"$router.push('/center')\">会员中心</li>\r\n        <li @click=\"$router.push('/my_order/dine')\">我的订单</li>\r\n        <li @click=\"$router.push('/my_coupons')\">我的优惠券</li>\r\n        <li @click=\"$router.push('/shop_cart')\">购物车</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"shopping-cart\">\r\n      <div class=\"circle\" ref=\"cartContainer\" @click=\"showCart\">\r\n        <div class=\"num\" v-if=\"totalNum\">{{totalNum}}</div>\r\n      </div>\r\n      <p class=\"total\" v-if=\"totalPrice > 0\">￥<span>{{totalPrice | formatActualMoney}}</span></p>\r\n      <p class=\"empty\" v-else><span>空空如也</span></p>\r\n      <p class=\"action\" v-if=\"totalPrice >= minimum\" @click.stop=\"goSettle\">去结算</p>\r\n      <p class=\"action\" v-else>起送￥{{minimum}}</p>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState, mapMutations} from 'vuex'\r\n\r\n  export default {\r\n    name: \"take_out_floating\",\r\n    data () {\r\n      return {\r\n        featuresViewVisible: false,//显示功能列表\r\n      }\r\n    },\r\n\r\n    props: {\r\n      appending: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        cartInfo: state => state.cart.cart,\r\n        storeInfo: state => state.common.common_data.store_info,\r\n      }),\r\n      // 购物车中总共商品的数量\r\n      totalNum: function () {\r\n        let num = 0\r\n        if (this.cartInfo.cartList.length > 0) {\r\n          this.cartInfo.cartList.forEach(cartItem => {\r\n            num += parseInt(cartItem.num)\r\n          })\r\n        }\r\n        return num\r\n      },\r\n\r\n      //商品总金额\r\n      totalPrice: function () {\r\n        let goodsPrice = 0\r\n        let adjunctsPrice = 0\r\n\r\n        if (this.cartInfo.cartList.length > 0) {\r\n          this.cartInfo.cartList.forEach(goodsItem => {\r\n            goodsPrice += goodsItem.num * goodsItem.member_price\r\n            if (goodsItem.adjunct.length > 0) {\r\n              goodsItem.adjunct.forEach(adjunctItem => {\r\n                adjunctsPrice += adjunctItem.num * adjunctItem.member_price\r\n              })\r\n            }\r\n          })\r\n        }\r\n\r\n        let price = this.NP.round(goodsPrice + adjunctsPrice,1)\r\n        return price\r\n      },\r\n\r\n      minimum () {\r\n        let storeInfo = this.$store.state.common.common_data.store_info\r\n        return storeInfo.minimum ? storeInfo.minimum : 15\r\n      }\r\n    },\r\n    created () {\r\n    },\r\n\r\n    methods: {\r\n      //功能菜单显示\r\n      featuresViewtoggle () {\r\n        this.featuresViewVisible = !this.featuresViewVisible\r\n      },\r\n\r\n      showCart () {\r\n        this.$emit('showCart')\r\n      },\r\n      goSettle () {\r\n        this.$router.push('/take_out_confirm')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .floating-box{\r\n    display: flex;\r\n    position: fixed;\r\n    left: 30px;\r\n    bottom: 40px;\r\n    z-index: 99;\r\n    .features{\r\n      position: relative;\r\n      .title{\r\n        position: relative;\r\n        z-index: 9;\r\n        display: flex;\r\n        width: 180px;\r\n        height: 88px;\r\n        background-color: rgba(51,51,51,.9);\r\n        border-radius: 44px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 28px;/*px*/\r\n        color: #ffffff;\r\n        .icon{\r\n          width: 40px;\r\n          margin-right: 6px;\r\n        }\r\n      }\r\n      .list{\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: 0;\r\n        padding-bottom: 88px;\r\n        li{\r\n          width: 180px;\r\n          height: 88px;\r\n          border-radius: 44px;\r\n          background-color: rgba(70,70,70,.8);\r\n          font-size: 26px;/*px*/\r\n          color: #ffffff;\r\n          margin-bottom: 10px;\r\n          text-align: center;\r\n          line-height: 88px;\r\n        }\r\n      }\r\n    }\r\n    .shopping-cart{\r\n      display: flex;\r\n      align-items: center;\r\n      width: 490px;\r\n      height: 88px;\r\n      margin-left: 24px;\r\n      border-radius: 44px;\r\n      background-color: rgba(255,215,59,.9);\r\n      .circle{\r\n        flex-shrink: 0;\r\n        position: relative;\r\n        width: 82px;\r\n        height: 82px;\r\n        border-radius: 50%;\r\n        background: url(\"../assets/img/home/icon_cart@2x.png\") no-repeat;\r\n        background-size: 100% 100%;\r\n        .num {\r\n          position: absolute;\r\n          top: 4px;\r\n          left: 38px;\r\n          width: 38px;\r\n          height: 38px;\r\n          background-color: #ff2e2e;\r\n          border-radius: 50%;\r\n          font-size: 24px;/*px*/\r\n          color: #ffffff;\r\n          text-align: center;\r\n          line-height: 38px;\r\n          transform: scale(0.75);\r\n        }\r\n      }\r\n      .total{\r\n        flex-grow: 1;\r\n        text-align: center;\r\n        font-size: 24px;/*px*/\r\n        span{\r\n          font-size: 36px;/*px*/\r\n          font-weight: 700;\r\n          color: #333333;\r\n        }\r\n      }\r\n      .empty {\r\n        flex-grow: 1;\r\n        text-align: center;\r\n        font-size: 24px;/*px*/\r\n        span {\r\n          font-size: 28px;\r\n          font-weight: 700;\r\n          color: #333333;\r\n        }\r\n      }\r\n      .action{\r\n        /*flex-grow: 1;*/\r\n        width: 180px;\r\n        height: 88px;\r\n        line-height: 88px;\r\n        text-align: center;\r\n        font-size: 28px;/*px*/\r\n        background-color: #474747;\r\n        border-radius: 0 44px 44px 0;\r\n        color: rgba(255,215,59,.9);;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/take_out_floating.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"floatingBox\",staticClass:\"floating-box\"},[_c('div',{staticClass:\"features\"},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.featuresViewtoggle}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/img/home/icon_function@2x.png\")}}),_vm._v(\"\\n      功能\\n    \")]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.featuresViewVisible),expression:\"featuresViewVisible\"}],staticClass:\"list\"},[_c('li',{on:{\"click\":function($event){_vm.$router.push('/center')}}},[_vm._v(\"会员中心\")]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.$router.push('/my_order/dine')}}},[_vm._v(\"我的订单\")]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.$router.push('/my_coupons')}}},[_vm._v(\"我的优惠券\")]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.$router.push('/shop_cart')}}},[_vm._v(\"购物车\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"shopping-cart\"},[_c('div',{ref:\"cartContainer\",staticClass:\"circle\",on:{\"click\":_vm.showCart}},[(_vm.totalNum)?_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.totalNum))]):_vm._e()]),_vm._v(\" \"),(_vm.totalPrice > 0)?_c('p',{staticClass:\"total\"},[_vm._v(\"￥\"),_c('span',[_vm._v(_vm._s(_vm._f(\"formatActualMoney\")(_vm.totalPrice)))])]):_c('p',{staticClass:\"empty\"},[_c('span',[_vm._v(\"空空如也\")])]),_vm._v(\" \"),(_vm.totalPrice >= _vm.minimum)?_c('p',{staticClass:\"action\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goSettle($event)}}},[_vm._v(\"去结算\")]):_c('p',{staticClass:\"action\"},[_vm._v(\"起送￥\"+_vm._s(_vm.minimum))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69e7985a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/take_out_floating.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69e7985a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./take_out_floating.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out_floating.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out_floating.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69e7985a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./take_out_floating.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69e7985a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/take_out_floating.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cart-specification\" ref=\"cartSpecification\">\r\n    <div class=\"title\" ref=\"title\">\r\n      <div class=\"left\">购物车（共{{cartNum}}件）</div>\r\n      <div class=\"right\" @click.stop=\"clearCart(storeId)\"><img src=\"../assets/img/shop_cart/shop_icon_del@2x.png\"/><span>清空购物车</span></div>\r\n    </div>\r\n    <div class=\"wrapper\" ref=\"wrapper\">\r\n      <div class=\"specification\" ref=\"specification\">\r\n        <ul class=\"order-list\">\r\n          <li v-for=\"cartItem in cartList\">\r\n            <div class=\"main\">\r\n              <p class=\"goods-name\">{{cartItem.name | longStrFormat(11)}}<span class=\"unit\">/{{cartItem.unit}}</span></p>\r\n              <div class=\"r\">\r\n                <div class=\"price\">\r\n                  <p class=\"finally-price\"><span class=\"member-tip\" v-if=\"NP.round(parseFloat(cartItem.price) - parseFloat(cartItem.member_price),2) > 0\">会员价</span>￥{{cartItem.member_price | formatActualMoney}}</p>\r\n                  <p class=\"original-price\" v-if=\"NP.round(parseFloat(cartItem.price) - parseFloat(cartItem.member_price),2) > 0\">￥{{cartItem.price | formatMoney | formatActualMoney}}</p>\r\n                </div>\r\n                <buy-cart :foods=\"cartItem\" :type=\"1\"></buy-cart>\r\n              </div>\r\n            </div>\r\n            <div class=\"minor\">\r\n              <p class=\"adjuncts\">\r\n                <template v-if=\"cartItem.taste.length > 0\">\r\n                  <template v-for=\"(props, index) in cartItem.taste\">\r\n                      <span v-for=\"(taste, i) in props.items\">\r\n                        {{taste.props_name}}\r\n                        <template>{{i === cartItem.taste.length - 1 ? '；' : '，'}}</template>\r\n                      </span>\r\n                  </template>\r\n                </template>\r\n                <template v-if=\"cartItem.adjunct.length\">\r\n                    <span v-for=\"(adjunct, j) in cartItem.adjunct\">{{adjunct.name + '×' + adjunct.num}}<template>{{j === cartItem.adjunct.length - 1 ? '；' : '，'}}</template></span>\r\n                </template>\r\n              </p>\r\n              <div class=\"r\">\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <div class=\"filler\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState, mapMutations} from 'vuex'\r\n  import BuyCart from './take_out_buy_cart'\r\n  export default {\r\n    name: \"take_out_cart_info\",\r\n    components: {BuyCart},\r\n    data () {\r\n      return {\r\n      }\r\n    },\r\n    props: [],\r\n    watch: {\r\n    },\r\n    mounted () {\r\n      this.$nextTick(() => {\r\n        // this.wrapperAttr()\r\n      })\r\n\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        cartList: state => state.cart.cart.cartList,\r\n        storeId: state => state.common.common_data.store_info.store_id\r\n      }),\r\n      cartNum () {\r\n        let cartList = this.$store.state.cart.cart.cartList\r\n        let totalNum = 0\r\n        cartList.forEach((cartItem, cartIndex) => {\r\n          totalNum += cartItem.num\r\n        })\r\n        return totalNum\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations([\r\n        'addCart',\r\n        'reduceCart',\r\n        'clearCart'\r\n      ]),\r\n      //当规格列表过长时，外层包裹框固定高度，使之可以滚动\r\n      wrapperAttr () {\r\n        if (this.cartItem) {\r\n          const maxHeight = this.$refs.cartSpecification.offsetHeight\r\n          const headHeight = this.$refs.title.offsetHeight\r\n          const scrollHeight = this.$refs.specification.offsetHeight\r\n          if (scrollHeight > maxHeight - headHeight) {\r\n            this.$refs.wrapper.style.height = maxHeight - headHeight + 'px'\r\n          }\r\n        }\r\n      },\r\n      addToCart () {\r\n        let storeId = this.common.common_data.store_info.store_id\r\n\r\n        let goods = {}\r\n        goods.product_id = this.cartItem.product.product_id\r\n        goods.goods_bn = this.cartItem.bn\r\n        goods.bn = this.cartItem.product.bn\r\n        goods.name = this.cartItem.product.name\r\n        goods.image_url = this.cartItem.image_url\r\n        goods.price = this.cartItem.price\r\n        goods.member_price = this.cartItem.member_price\r\n        goods.num = 1\r\n        goods.unit = this.cartItem.unit\r\n        goods.catId = this.cartItem.cat_id\r\n\r\n        let adjunctData = [];\r\n        this.adjunctsData.forEach(adjunctItem => {\r\n          var adjunct = {goods_bn: adjunctItem.bn, num: adjunctItem.num, price: adjunctItem.price, member_price: adjunctItem.member_price}\r\n          adjunctData.push(adjunct)\r\n        })\r\n\r\n        goods.adjunct = adjunctData\r\n        goods.taste = this.tastesData\r\n\r\n        this.addCart({storeId: storeId, catId: this.cartItem.cat_id, goods: goods})\r\n\r\n        this.$emit('closeCart')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../assets/css/mixin\";\r\n  @import \"../assets/css/common\";\r\n  .cart-specification{\r\n    /*max-height: 1100px;*/\r\n    background-color: #ffffff;\r\n    /*padding: 0 30px;*/\r\n    ::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n    .title{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 20px;\r\n      font-size: 28px;\r\n      color: #333333;\r\n      background-color: #F2F2F5;\r\n      .left {\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        font-weight: 700;\r\n      }\r\n      .right {\r\n        display: flex;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        img {\r\n          width: 36px;\r\n          height: 36px;\r\n          margin-right: 5px;\r\n        }\r\n        span {\r\n          font-weight: 700;\r\n        }\r\n      }\r\n    }\r\n    &:after{\r\n      @include border-1px(#e5e5e5, bottom);\r\n    }\r\n  }\r\n  .wrapper{\r\n    overflow-y: scroll;\r\n    -webkit-overflow-scrolling : touch;\r\n    height: 800px;\r\n    .specification{\r\n      .order-list{\r\n        padding: 30px 30px 0 30px;\r\n        li{\r\n          padding-bottom: 30px;\r\n          .main{\r\n            display: flex;\r\n            align-items: flex-start;\r\n            min-height: 50px;\r\n            .goods-name{\r\n              font-weight: 600;\r\n              line-height: 1.5;\r\n              width: 45%;\r\n              padding-right: 16px;\r\n              .unit{\r\n                font-size: 24px;/*px*/\r\n                color: #999999;\r\n              }\r\n            }\r\n            .r{\r\n              position: relative;\r\n              width: 55%;\r\n              display: flex;\r\n              justify-content: flex-end;\r\n              align-items: flex-start;\r\n              .price{\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: flex-end;\r\n                padding-right: 20px;\r\n                margin-right: 170px;\r\n                .finally-price{\r\n                  position: relative;\r\n                  font-size: 32px;/*px*/\r\n                  font-weight: 600;\r\n                  line-height: 1.5;\r\n                  .member-tip{\r\n                    position: absolute;\r\n                    width: 100px;\r\n                    height: 37px;\r\n                    font-size: 24px;/*px*/\r\n                    background: url(\"../assets/img/shop_cart/shop_label@2x.png\");\r\n                    background-size: 100% 100%;\r\n                    text-align: left;\r\n                    padding-left: 10px;\r\n                    line-height: 37px;\r\n                    transform: scale(0.75);\r\n                    transform-origin: center;\r\n                    left: -90px;\r\n                    top: 50%;\r\n                    margin-top: -18px;\r\n                  }\r\n                }\r\n                .original-price{\r\n                  font-size: 24px;/*px*/\r\n                  line-height: 1.5;\r\n                  color: #999999;\r\n                  text-decoration: line-through;\r\n                }\r\n              }\r\n\r\n            }\r\n          }\r\n          .minor {\r\n            display: flex;\r\n            .adjuncts{\r\n              font-size: 24px;/*px*/\r\n              color: #999999;\r\n              transform: scale(0.917);\r\n              transform-origin: top left;\r\n              line-height: 1.5;\r\n              padding-right: 16px;\r\n              width: 45%;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n      .filler{\r\n        height: 188px;\r\n      }\r\n    }\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/take_out_cart_info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"cartSpecification\",staticClass:\"cart-specification\"},[_c('div',{ref:\"title\",staticClass:\"title\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"购物车（共\"+_vm._s(_vm.cartNum)+\"件）\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\",on:{\"click\":function($event){$event.stopPropagation();_vm.clearCart(_vm.storeId)}}},[_c('img',{attrs:{\"src\":require(\"../assets/img/shop_cart/shop_icon_del@2x.png\")}}),_c('span',[_vm._v(\"清空购物车\")])])]),_vm._v(\" \"),_c('div',{ref:\"wrapper\",staticClass:\"wrapper\"},[_c('div',{ref:\"specification\",staticClass:\"specification\"},[_c('ul',{staticClass:\"order-list\"},_vm._l((_vm.cartList),function(cartItem){return _c('li',[_c('div',{staticClass:\"main\"},[_c('p',{staticClass:\"goods-name\"},[_vm._v(_vm._s(_vm._f(\"longStrFormat\")(cartItem.name,11))),_c('span',{staticClass:\"unit\"},[_vm._v(\"/\"+_vm._s(cartItem.unit))])]),_vm._v(\" \"),_c('div',{staticClass:\"r\"},[_c('div',{staticClass:\"price\"},[_c('p',{staticClass:\"finally-price\"},[(_vm.NP.round(parseFloat(cartItem.price) - parseFloat(cartItem.member_price),2) > 0)?_c('span',{staticClass:\"member-tip\"},[_vm._v(\"会员价\")]):_vm._e(),_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(cartItem.member_price)))]),_vm._v(\" \"),(_vm.NP.round(parseFloat(cartItem.price) - parseFloat(cartItem.member_price),2) > 0)?_c('p',{staticClass:\"original-price\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(_vm._f(\"formatMoney\")(cartItem.price))))]):_vm._e()]),_vm._v(\" \"),_c('buy-cart',{attrs:{\"foods\":cartItem,\"type\":1}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"minor\"},[_c('p',{staticClass:\"adjuncts\"},[(cartItem.taste.length > 0)?[_vm._l((cartItem.taste),function(props,index){return _vm._l((props.items),function(taste,i){return _c('span',[_vm._v(\"\\n                      \"+_vm._s(taste.props_name)+\"\\n                      \"),[_vm._v(_vm._s(i === cartItem.taste.length - 1 ? '；' : '，'))]],2)})})]:_vm._e(),_vm._v(\" \"),(cartItem.adjunct.length)?_vm._l((cartItem.adjunct),function(adjunct,j){return _c('span',[_vm._v(_vm._s(adjunct.name + '×' + adjunct.num)),[_vm._v(_vm._s(j === cartItem.adjunct.length - 1 ? '；' : '，'))]],2)}):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"r\"})])])})),_vm._v(\" \"),_c('div',{staticClass:\"filler\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-da91d27e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/take_out_cart_info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-da91d27e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./take_out_cart_info.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out_cart_info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out_cart_info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-da91d27e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./take_out_cart_info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-da91d27e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/take_out_cart_info.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"home-page\" ref=\"homePage\" :style=\"{visibility: !showLoading ? 'visible' : 'hidden'}\">\r\n      <div class=\"_100px\" ref=\"_100px\"></div>\r\n      <div class=\"fixed-wrapper\">\r\n        <!--banner开始-->\r\n        <div class=\"banner\" ref=\"banner\">\r\n          <img class=\"logo\" ref=\"logo\" v-if=\"storeInf\" v-lazy=\"storeInf.store_log\">\r\n          <img class=\"logo\" ref=\"logo\" v-else src=\"../../assets/img/common/login_logo_default@2x.png\">\r\n          <div class=\"search-icon\" ref=\"searchIcon\">\r\n            <img class=\"block-icon\" v-show=\"blockSearhIocn\" src=\"../../assets/img/home/icon_search@2x.png\">\r\n            <div class=\"scroll-show\" v-show=\"graySearhIocn\">\r\n              <img src=\"../../assets/img/home/icon_search_gray@2x.png\">\r\n              <span :style=\"{visibility: graySearhIocn ? 'visible' : 'hidden'}\">有什么想吃的搜一搜</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--banner结束-->\r\n        <!--store infomation开始-->\r\n        <div class=\"store-info\" ref=\"storeInfo\" id=\"store_info\">\r\n          <h3 class=\"store-name\" v-if=\"storeInf\">\r\n            {{storeInf.store_name}}\r\n            <span class=\"in-operation\" v-if=\"operation\">营业中</span>\r\n            <span class=\"resting\" v-if=\"!operation\">暂停营业</span>\r\n          </h3>\r\n          <div class=\"info01\">\r\n            <p class=\"business-hours\" v-if=\"storeInf\">\r\n              营业时间：{{storeInf.open_time}}\r\n            </p>\r\n            <p class=\"introduction-btn\">\r\n              商铺信息\r\n              <i class=\"fa fa-angle-right\"></i>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <!--store infomation结束-->\r\n      </div>\r\n\r\n      <div class=\"scroll-wrapper\" ref=\"scrollWrapper\">\r\n        <div class=\"wrapper\" ref=\"_wrapper\">\r\n          <div class=\"search-btn\" v-show=\"showSimulationBtn\" @click=\"goSearch\"></div>\r\n          <div class=\"store-info-btn\" v-show=\"showSimulationBtn\" @touchstart=\"showStoreInfo = true\"></div>\r\n          <div class=\"search-faker\" v-show=\"!showSimulationBtn\" @click=\"goSearch\"></div>\r\n          <p class=\"table-num\">\r\n            <!--<span>请扫描桌角二维码点餐</span>-->\r\n          </p>\r\n          <div class=\"goods-overview\" ref=\"overview\">\r\n            <div class=\"side scroll-box\" ref=\"sideScrollBox\">\r\n              <ul class=\"goods-type-list\">\r\n               <li v-for=\"(item,index) in dishes\" :key=\"index\" class=\"type-item\" :class=\"{activity_menu: index === catIndex}\" @click=\"chooseMenu(index)\">\r\n                 <img class=\"icon\" v-if=\"index === 0\" src=\"../../assets/img/home/icon_tuijian@2x.png\">\r\n                 <span class=\"txt\">\r\n                   {{item.cat_name}}\r\n                 </span>\r\n                 <span class=\"category-num\" v-if=\"cartInfo.catList[item.cat_id] > 0\">{{cartInfo.catList[item.cat_id]}}</span>\r\n               </li>\r\n\r\n              </ul>\r\n            </div>\r\n            <div class=\"main scroll-box\" ref=\"mainScrollBox\">\r\n              <ul class=\"outside-list\">\r\n                <li class=\"outside-item\" v-for=\"items in dishes\">\r\n                  <h4 class=\"type-name\">\r\n                    {{items.cat_name}}\r\n                  </h4>\r\n                  <goods\r\n                    :items=\"items.goods\"\r\n                    @showSpecs=\"showSpecsList\"\r\n                    @moveInCart=\"listenInCart\"\r\n                    @showMoveDot=\"showMoveDotFun\"\r\n                    @showGoodsDetail=\"showGoodsDetail\">\r\n                  </goods>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <floating :appending=\"appending\" @showCart=\"showCartInfo\" ref=\"floating\"></floating>\r\n      <mt-popup\r\n        v-model=\"specsVisible\"\r\n        position=\"bottom\">\r\n        <goods-specification :info=\"specificationInfo\" @closeSpecs=\"closeSpecsList\"></goods-specification>\r\n      </mt-popup>\r\n      <mt-popup\r\n        v-model=\"goodsDetailVisible\"\r\n        class=\"goods-detail-wrapper\"\r\n        position=\"center\"\r\n        popup-transition=\"popup-fade\">\r\n        <div class=\"goods-detail\">\r\n          <img class=\"goods-pic\" v-lazy=\"goodsPic\"/>\r\n        </div>\r\n      </mt-popup>\r\n      <mt-popup\r\n        v-model=\"cartInfoVisible\"\r\n        @input=\"closeCartInfo\"\r\n        position=\"bottom\">\r\n        <cart-specification @closeCart=\"closeCartInfo\"></cart-specification>\r\n      </mt-popup>\r\n      <store-info :store-info=\"storeInf\" :class=\"{show_info: showStoreInfo}\" @close=\"showStoreInfo = false\"></store-info>\r\n      <transition\r\n        appear\r\n        @after-appear = 'afterEnter'\r\n        @before-appear=\"beforeEnter\"\r\n        v-for=\"(item,index) in showMoveDot\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"move-dot\" v-if=\"item\">\r\n          <span class=\"move-liner\"></span>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import BScroll from 'better-scroll'\r\n  import Goods from '../../base/take_out_goods'\r\n  import Floating from '../../base/take_out_floating'\r\n  import StoreInfo from '../store/store_info'\r\n  import GoodsSpecification from '../../base/take_out_goods_specification'\r\n  import CartSpecification from '../../base/take_out_cart_info'\r\n  import {mapState, mapMutations} from 'vuex'\r\n  const dpr = document.querySelector('html').getAttribute('data-dpr')\r\n\r\n  export default {\r\n    name: \"take_out\",\r\n    data () {\r\n      return {\r\n        appending: false,\r\n        windowHeight: 0,\r\n        standardLength: 0,//标准长度(注意：是dpr为2时的长度)\r\n        showSimulationBtn: true, //显示模拟按钮\r\n        showStoreInfo: false, //显示商户具体信息\r\n        showLoading: true, // 显示加载动画\r\n        storeId: this.$route.params.storeId, //门店ID\r\n        directlyAdd: 0, //是否直接加入购物车\r\n        operation: true,//是否营业\r\n        blockSearhIocn: true,\r\n        graySearhIocn: false,\r\n        dishes: [],//商品列表\r\n        bodyScroll: true,\r\n        sideScroll: false,\r\n        mainScroll: false,\r\n        mainReachTop: true,//判断商品列表是否滚动到顶部\r\n        sideReachTop: true,//判断商品类型名称列表是否滚动到顶部\r\n        jsScroll: false,//判断是否是通过js调用的滚动\r\n        featuresViewVisible: false,//显示功能列表\r\n        goodsTitleListTop: [],//商品标题列表的高度集合\r\n        goodsListTop: [], // 商品列表中商品类型的距离顶部的高度的集合\r\n        mainLengthDifference: 0, //商品列表的高度与包裹该列表的滚动框高度之差\r\n        catIndex: 0, // 已选菜单索引值，默认为0\r\n        catIndexChange: true, // 解决选中index时，scroll监听事件重复判断设置index的bug\r\n        showMoveDot: [], // 控制下落的小圆点显示隐藏\r\n        categoryNum: [], // 商品类型右上角已加入购物车的数量\r\n        totalPrice: 0, // 总共价格\r\n        cartFoodList: [], // 购物车商品列表\r\n        specsVisible: false, //弹出商品规格菜单\r\n        specificationInfo: [], // 商品规格页信息\r\n        goodsDetailVisible: false, //是否显示商品详细信息\r\n        goodsPic: '',\r\n        storeInf: {\r\n          store_log: '',\r\n          desk: {},\r\n          store_name: '',\r\n          open_time: '',\r\n          minimum: 15\r\n        },\r\n        gettingGoodsDetail: false,\r\n        cartInfoVisible: false\r\n      }\r\n    },\r\n    components: {Goods, Floating, StoreInfo, GoodsSpecification, CartSpecification},\r\n    watch: {\r\n      bodyScroll: function (val) {\r\n        if (val) {\r\n          this._bodyScroll.enable()\r\n          this._bodyScroll.scrollTo(0, 0, 400)\r\n        } else {\r\n          this._bodyScroll.disable()\r\n        }\r\n      },\r\n      sideScroll: function (val) {\r\n        if (val) {\r\n          this._sideScroll.enable()\r\n          if (!!this.touchStartX && this.touchStartX < this.elementsStyle.SIDE_WIDTH && !this.jsScroll) {\r\n            const sideHeight = document.querySelector('.side').offsetHeight\r\n            const sideChildrenHeight = document.querySelector('.side').children[0].offsetHeight\r\n            if (sideHeight < sideChildrenHeight) {\r\n              this._sideScroll.scrollTo(0, -200 * dpr, 1000)\r\n            }\r\n          }\r\n        } else {\r\n          this._sideScroll.disable()\r\n        }\r\n      },\r\n\r\n      //监听选中的商品标题变化，滚动商品标题列表，使选中状态的标题一直处于显示屏内\r\n      catIndex: function (val) {\r\n        const sideScrollHeight = this.$refs.sideScrollBox.offsetHeight\r\n        if (this.goodsTitleListTop[val] > sideScrollHeight) {\r\n          this._sideScroll.scrollTo(0, this.goodsTitleListTop[val] - sideScrollHeight, 200)\r\n        } else {\r\n          return\r\n        }\r\n      },\r\n\r\n      showLoading: function (val) {\r\n        if (!val) {\r\n          this.$nextTick(() => {\r\n            this.getdishesHeight()\r\n          })\r\n        }\r\n      }\r\n\r\n    },\r\n    beforeDestroy () {\r\n    },\r\n    beforeRouteEnter (to, from, next) {\r\n      next(vm => {\r\n        if (from.name !== 'people_num') {\r\n          vm.getStoreInfo()\r\n        }\r\n      })\r\n    },\r\n    created () {\r\n      this.elementsStyle = null\r\n      if (this.$store.state.common.common_data.store_info) {\r\n        this.storeInf = Object.assign(this.storeInf, this.$store.state.common.common_data.store_info)\r\n      }\r\n    },\r\n    mounted () {\r\n      this.getCartInfo(this.storeId)\r\n      setTimeout(() => {\r\n        this._getStyle()\r\n        this._setStyle()\r\n        this._bodyScrollEvent()\r\n        this._pageTouchListener()\r\n        this.axiosAll()\r\n      }, 30)\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        cartInfo: state => state.cart.cart,\r\n      })\r\n    },\r\n    methods: {\r\n      ...mapMutations([\r\n        'set_user_cart',\r\n        'set_common_data_store_info',\r\n        'set_common_data_desk_info',\r\n        'getCartInfo'\r\n      ]),\r\n\r\n      //获取门店信息\r\n      getStoreInfo () {\r\n        this.$http.post(this.API.seller.store_info,{store_id:this.storeId,desk_id:this.deskId}).then(res => {\r\n          if (res.return_code === '0000') {\r\n            this.storeInfo = res.data.store\r\n            this.set_user_cart(res.data.user_cart);\r\n            if (res.data.store) {\r\n              this.set_common_data_store_info(res.data.store)\r\n              this.storeInf = res.data.store\r\n            }\r\n            if (res.data.desk) {\r\n              this.set_common_data_desk_info(res.data.desk)\r\n            }\r\n\r\n          } else {\r\n            this.$myToast(res.return_msg)\r\n            return\r\n          }\r\n        });\r\n      },\r\n      //跳转至search页面\r\n      goSearch () {\r\n        this.$router.push({name: 'take_out_search', params: {storeId: this.storeId}})\r\n      },\r\n\r\n      //获取商品\r\n      initDishes () {\r\n        return this.$http.post(this.API.seller.seller_goods,{})\r\n      },\r\n\r\n      //并行加载异步请求\r\n      axiosAll () {\r\n        this.$myLoading.open({ text: '加载中...', spinnerType: 'fading-circle'})\r\n        this.$http.all([this.initDishes()]).then(result => {\r\n\r\n          //获取商铺食品列表\r\n          if (result[0].return_code === '0000') {\r\n            this.dishes = result[0].data.list\r\n            let catIdList = []\r\n            this.dishes.forEach((item) => {\r\n              catIdList.push(item.cat_id)\r\n            })\r\n            this.catIdList = catIdList\r\n          } else {\r\n            this.$myToast(result[0].return_msg)\r\n            return\r\n          }\r\n          this.showLoading = false\r\n          this.$myLoading.close()\r\n\r\n        })\r\n\r\n      },\r\n\r\n      changeCategroyNum (numArr) {\r\n          this.categoryNum = numArr\r\n      },\r\n\r\n      //功能菜单显示\r\n      featuresViewtoggle () {\r\n        this.featuresViewVisible = !this.featuresViewVisible\r\n      },\r\n\r\n      //显示商品规格菜单\r\n      showSpecsList (goodsItem) {\r\n        if (this.gettingGoodsDetail) {\r\n          return false\r\n        }\r\n\r\n        this.gettingGoodsDetail = true\r\n\r\n        this.$http.post(this.API.seller.store_goods_detail,{store_id: this.storeId, product_id: goodsItem.product.product_id}).then(res => {\r\n          this.gettingGoodsDetail = false\r\n          if (res.return_code == '0000') {\r\n            this.specsVisible = true\r\n            this.specificationInfo = res.data.detail\r\n          } else {\r\n\r\n          }\r\n        })\r\n      },\r\n\r\n      // 显示购物车信息\r\n      showCartInfo () {\r\n        this.cartInfoVisible = true\r\n        this.$refs.floating.$refs.floatingBox.style.zIndex = 9999\r\n      },\r\n\r\n      //关闭商品规格\r\n      closeSpecsList () {\r\n        this.specsVisible = false\r\n      },\r\n\r\n      //关闭购物车\r\n      closeCartInfo (isClose) {\r\n        if (isClose === false) {\r\n          this.cartInfoVisible = false\r\n          this.$refs.floating.$refs.floatingBox.style.zIndex = 99\r\n        }\r\n      },\r\n\r\n      //显示商品详细信息\r\n      showGoodsDetail (goodsPic) {\r\n        this.goodsDetailVisible = true\r\n        this.goodsPic = goodsPic\r\n      },\r\n\r\n      // 获取商品列表的高度，存入goodsListTop\r\n      getdishesHeight () {\r\n        const goodsListContainer = this.$refs.mainScrollBox\r\n        const goodsTitleListContainer = this.$refs.sideScrollBox\r\n        const goodsListArr = Array.from(goodsListContainer.children[0].children)\r\n        const goodsTitleListArr = Array.from(goodsTitleListContainer.children[0].children)\r\n        this.mainLengthDifference = goodsListContainer.children[0].offsetHeight - goodsListContainer.offsetHeight\r\n        goodsListArr.forEach((item, index) => {\r\n          this.goodsListTop[index] = item.offsetTop\r\n        })\r\n\r\n        goodsTitleListArr.forEach((item, index, array) => {\r\n          if (index !== array.length - 1) {\r\n            this.goodsTitleListTop[index] = array[index + 1].offsetTop\r\n          } else {\r\n            this.goodsTitleListTop[index] = goodsTitleListContainer.children[0].offsetHeight\r\n          }\r\n        })\r\n        this._sideScrollEvent()\r\n        this._mainScrollEvent()\r\n      },\r\n\r\n      // 点击左侧食品列表标题，相应列表移动到最顶层\r\n      chooseMenu (index) {\r\n        this.catIndex = index\r\n        // catIndexChange解决运动时listenScroll依然监听的bug\r\n        this.catIndexChange = false\r\n        this.jsScroll = true\r\n        // if (!this.mainScroll) {\r\n          this._bodyScroll.scrollTo(0, -this.elementsStyle.SCROLL_HEIGHT, 400)\r\n        // } else {\r\n\r\n          this._mainScroll.scrollTo(0, -this.goodsListTop[this.catIndex], 400)\r\n\r\n        // }\r\n\r\n        // this._mainScroll.on('scrollEnd', () => {\r\n        //\r\n        //   this.catIndexChange = true\r\n        // })\r\n      },\r\n      // 显示下落圆球\r\n      showMoveDotFun (showMoveDot, elLeft, elBottom) {\r\n        this.showMoveDot = [...this.showMoveDot, ...showMoveDot]\r\n        this.elLeft = elLeft\r\n        this.elBottom = elBottom\r\n      },\r\n      beforeEnter (el) {\r\n        el.style.transform = `translate3d(0,${this.elBottom - this.windowHeight + this.standardLength * 0.4}px,0)`\r\n        el.children[0].style.transform = `translate3d(${this.elLeft - this.standardLength * 3}px,0,0)`\r\n        el.children[0].style.opacity = 0\r\n      },\r\n      afterEnter (el) {\r\n        el.style.transform = `translate3d(0,0,0)`\r\n        el.children[0].style.transform = `translate3d(0,0,0)`\r\n        el.style.transition = 'transform .5s cubic-bezier(0.3, -0.25, 0.7, -0.15)'\r\n        el.children[0].style.transition = 'transform .5s linear'\r\n        this.showMoveDot = this.showMoveDot.map(item => false)\r\n        el.children[0].style.opacity = 1\r\n        el.children[0].addEventListener('transitionend', () => {\r\n          this.listenInCart()\r\n        }, this.$passiveSupported ? { passive: true } : false)\r\n        el.children[0].addEventListener('webkitAnimationEnd', () => {\r\n          this.listenInCart()\r\n        }, this.$passiveSupported ? { passive: true } : false)\r\n      },\r\n      // 监听圆点是否进入购物车\r\n      listenInCart () {\r\n        if (!this.receiveInCart) {\r\n          this.receiveInCart = true\r\n        }\r\n      },\r\n      _getStyle () {\r\n\r\n        // 兼容IOS版微信底部有白条影响window.innerHeight的值\r\n        const appDom = document.getElementById('app')\r\n        appDom.style.height = window.innerHeight + 'px'\r\n\r\n        const banner = this.$refs.banner\r\n        const storeInfo = this.$refs.storeInfo\r\n        const searchIcon = document.querySelector('.search-icon')\r\n        const tableNum = document.querySelector('.table-num')\r\n        const side = document.querySelector('.side')\r\n        this.windowHeight = window.innerHeight\r\n        this.standardLength = this.$refs._100px.offsetWidth\r\n        this.elementsStyle = {\r\n          REDUCE_HEIGHT: banner.offsetHeight / 2 + tableNum.offsetHeight,//用于设置overview高度\r\n          SCROLL_HEIGHT: banner.offsetHeight / 2 + storeInfo.offsetHeight,//滚动距离\r\n          SEARCHICON_TRANSLATE_Y: (banner.offsetHeight / 2 - searchIcon.offsetHeight) / 2 + banner.offsetHeight / 2 + searchIcon.offsetHeight / 2,//search-icon上移距离\r\n          SEARCHICON_TRANSLATE_X: (window.innerWidth - searchIcon.offsetWidth * 2 - 220 * dpr) / 2,//search-icon左移距离\r\n          SEARCHICON_INIT_WIDTH: searchIcon.offsetWidth,//search-icon初始宽度\r\n          SEARCH_ADD_WIDTH: 220 * dpr,//search-icon增加宽度\r\n          SEARCHICON_INIT_RADIUS: 15 * dpr,//search-icon初始圆角\r\n          SEARCHICON_ADD_RADIUS: 11 * dpr,//search-icon减掉圆角\r\n          SEARCHICON_GRAY: 115 * dpr,\r\n          SIDE_WIDTH: side.offsetWidth,\r\n          SIDE_HEIGHT: side.offsetHeight,\r\n          SIDE_UL_HEIGHT: side.children[0].offsetHeight\r\n        }\r\n      },\r\n\r\n      _setStyle () {\r\n        this.$refs._wrapper.style.paddingTop = this.$refs.banner.offsetHeight + this.$refs.storeInfo.offsetHeight + 'px'\r\n        this.$refs.overview.style.height = window.innerHeight - this.elementsStyle.REDUCE_HEIGHT + 'px'\r\n      },\r\n\r\n      _bodyScrollEvent () {\r\n        this._bodyScroll = new BScroll(this.$refs.scrollWrapper, {\r\n          scrollY: true,\r\n          click: true,\r\n          bounce: false,\r\n          probeType: 3,\r\n          flickLimitDistance: this.standardLength / 2\r\n        })\r\n\r\n        let logo = this.$refs.logo\r\n        let searchIcon = this.$refs.searchIcon\r\n        let elHei = this.elementsStyle\r\n        this._bodyScroll.on('scroll', (pos) => {\r\n          let y = -pos.y.toFixed(1)\r\n          let ratio = (elHei.SCROLL_HEIGHT - y) / elHei.SCROLL_HEIGHT\r\n          logo.style.opacity = ratio\r\n          logo.style.transform = `scale(${ratio})`\r\n          if (pos.y < -5) {\r\n            this.blockSearhIocn = false\r\n          } else {\r\n            this.blockSearhIocn = true\r\n          }\r\n          if (pos.y < -elHei.SEARCHICON_GRAY) {\r\n            // this.mainScroll = true\r\n            // this.sideScroll = true\r\n            this.graySearhIocn = true\r\n          } else {\r\n            this.graySearhIocn = false\r\n          }\r\n          searchIcon.style.transform = `translate(-${(1 - ratio) * elHei.SEARCHICON_TRANSLATE_X}px, -${(1 - ratio) * elHei.SEARCHICON_TRANSLATE_Y}px)`\r\n          searchIcon.style.width = (1 - ratio) * elHei.SEARCH_ADD_WIDTH + elHei.SEARCHICON_INIT_WIDTH + 'px'\r\n          searchIcon.style.borderRadius = elHei.SEARCHICON_INIT_RADIUS - (1 - ratio) * elHei.SEARCHICON_ADD_RADIUS + 'px'\r\n        })\r\n\r\n        this._bodyScroll.on('scrollEnd', (pos) => {\r\n\r\n          if (-pos.y === elHei.SCROLL_HEIGHT) {\r\n            this.bodyScroll = false\r\n            this.showSimulationBtn = false\r\n          } else {\r\n            this.showSimulationBtn = true\r\n          }\r\n\r\n          // if (pos.y > -3) {\r\n          //   console.log([pos.y, this.mainReachTop])\r\n          //   // if (this.mainReachTop) {\r\n          //     this.mainScroll = false\r\n          //   // }\r\n          //   if (this.sideReachTop) {\r\n          //     this.sideScroll = false\r\n          //   }\r\n          //\r\n          // }\r\n        })\r\n      },\r\n\r\n      _sideScrollEvent () {\r\n        this._sideScroll = new BScroll(this.$refs.sideScrollBox, {\r\n          scrollY: true,\r\n          click: true,\r\n          bounce:false,\r\n          probeType: 3\r\n        })\r\n        !this.sideScroll && this._sideScroll.disable()\r\n        this._sideScroll.on('scrollEnd', (pos) => {\r\n          if (pos.y >= -3) {\r\n            this.sideReachTop = true\r\n          } else {\r\n\r\n            this.sideReachTop = false\r\n          }\r\n        })\r\n      },\r\n\r\n      _mainScrollEvent () {\r\n        this._mainScroll = new BScroll(this.$refs.mainScrollBox, {\r\n          scrollY: true,\r\n          click: true,\r\n          bounce:false,\r\n          probeType: 3\r\n        })\r\n        // !this.mainScroll && this._mainScroll.disable()\r\n        this._mainScroll.on('scroll', (pos) => {\r\n          if (!this.$refs.sideScrollBox) {\r\n            return\r\n          }\r\n          this.goodsListTop.forEach((item, index) => {\r\n            if (this.catIndexChange && Math.abs(Math.round(pos.y)) >= item) {\r\n              this.catIndex = index\r\n            }\r\n          })\r\n        })\r\n        this._mainScroll.on('scrollEnd', (pos) => {\r\n\r\n          if (pos.y >= -3) {\r\n            this.mainReachTop = true\r\n          } else {\r\n\r\n            this.mainReachTop = false\r\n          }\r\n          this.catIndexChange = true\r\n        })\r\n      },\r\n\r\n      _pageTouchListener () {\r\n        let that = this\r\n        this.$refs.homePage.addEventListener('touchstart', function (e) {\r\n          that.touchStartX = e.touches[0].pageX\r\n          that.touchStartY = e.touches[0].pageY\r\n        }, this.$passiveSupported ? { passive: true } : false)\r\n\r\n        this.$refs.homePage.addEventListener('touchend', function (e) {\r\n          const touchEndY = e.changedTouches[0].pageY\r\n          if (!that.bodyScroll && (touchEndY - that.touchStartY > 50 * dpr) && that.mainReachTop) {\r\n            that.bodyScroll = true\r\n          }\r\n        }, this.$passiveSupported ? { passive: true } : false)\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../assets/css/mixin\";\r\n  @import \"../../assets/css/common\";\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  .home-page{\r\n    position: relative;\r\n    background-color: #ffffff;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    /*overflow: scroll;*/\r\n    /*-webkit-overflow-scrolling : touch;*/\r\n    ._100px{\r\n      width: 100px;\r\n      position: fixed;\r\n      top: 0;\r\n      z-index: -99;\r\n    }\r\n\r\n    .fixed-wrapper{\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 9;\r\n      .banner{\r\n        position: relative;\r\n        height: 280px;\r\n        background: url(\"../../assets/img/people_num/img1@2x.png\") no-repeat;\r\n        background-size: 100% auto;\r\n        background-position: center;\r\n        .logo{\r\n          position: absolute;\r\n          bottom: -30px;\r\n          left: 30px;\r\n          width: 150px;\r\n          height: 150px;\r\n          border-radius: 8px;\r\n          box-shadow: 0 5px 18px 0 #1a0a0a0a;\r\n          transform-origin: center 80%;\r\n        }\r\n        .search-icon{\r\n          position: absolute;\r\n          right: 30px;\r\n          bottom: -30px;\r\n          width: 60px;\r\n          height: 60px;\r\n          border-radius: 30px;\r\n          background-color: #ffffff;\r\n          overflow: hidden;\r\n          box-shadow: 0 5px 18px 0 #1a0a0a0a;\r\n          transform-origin: center;\r\n          .block-icon{\r\n            position: absolute;\r\n            width: 40px;\r\n            height: 40px;\r\n            top: 50%;\r\n            left: 50%;\r\n            margin-top: -20px;\r\n            margin-left: -20px;\r\n          }\r\n          .scroll-show{\r\n            display: flex;\r\n            overflow-x: visible;\r\n            position: absolute;\r\n            line-height: 40px;\r\n            top: 10px;\r\n            left: 50%;\r\n            /*min-width: 250px;*/\r\n            transform: translateX(-50%);\r\n            img{\r\n              vertical-align: middle;\r\n              width: 40px;\r\n              height: 40px;\r\n            }\r\n            span{\r\n\r\n              /*visibility: hidden;*/\r\n              font-size: 28px;\r\n              white-space: nowrap;\r\n              color: #999999;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .store-info{\r\n        padding: 0 30px;\r\n        .store-name{\r\n          display: flex;\r\n          align-items: center;\r\n          padding-top: 60px;\r\n          font-size: 40px;/*px*/\r\n          font-weight: bold;\r\n          span{\r\n            margin-left: 20px;\r\n            font-size: 22px;/*px*/\r\n            border-radius: 4px;\r\n            padding: 6px 9px;\r\n          }\r\n          .in-operation{\r\n            background-color: #f3ecd4;\r\n            color: #8f740d;\r\n          }\r\n        }\r\n        .info01{\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 26px;/*px*/\r\n          padding-top: 24px;\r\n          padding-bottom: 12px;\r\n          .business-hours{\r\n            color: #999999;\r\n          }\r\n          .introduction-btn{\r\n            i{\r\n              font-size: 30px;/*px*/\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .scroll-wrapper{\r\n      height: 100%;\r\n      position: relative;\r\n      z-index: 10;\r\n      .wrapper{\r\n        .search-btn{\r\n          position: absolute;\r\n          width: 80px;\r\n          height: 80px;\r\n          right: 20px;\r\n          top: 240px;\r\n        }\r\n        .store-info-btn{\r\n          position: absolute;\r\n          width: 140px;\r\n          height: 50px;\r\n          right: 20px;\r\n          top: 395px;\r\n        }\r\n        .search-faker{\r\n          position: absolute;\r\n          width: 500px;\r\n          height: 80px;\r\n          top: 20.5%;\r\n          left: 50%;\r\n          margin-left: -250px;\r\n        }\r\n        .table-num{\r\n          position: relative;\r\n          padding: 0 30px;\r\n          font-size: 28px;/*px*/\r\n          color: #666666;\r\n          height: 90px;\r\n          line-height: 90px;\r\n          background-color: #ffffff;\r\n          &:after{\r\n            @include border-1px(#e5e5e5, bottom);\r\n          }\r\n        }\r\n        .goods-overview{\r\n          position: relative;\r\n          display: flex;\r\n          background-color: #ffffff;\r\n          .mask{\r\n            position: absolute;\r\n            width: 100%;\r\n\r\n            height: 100%;\r\n            top: 0;\r\n            left: 0;\r\n            background-color: rgba(0,0,0,.2);\r\n          }\r\n          .scroll-box{\r\n            overflow-y: hidden;\r\n            height: 100%;\r\n          }\r\n          .side{\r\n            flex-shrink: 0;\r\n            width: 170px;\r\n            background-color: #f7f7f7;\r\n            .goods-type-list{\r\n              .type-item{\r\n                position: relative;\r\n                width: 100%;\r\n                .txt{\r\n                  display: inline-block;\r\n                  width: 115px;\r\n                  text-align: left;\r\n                  padding: 31px 0;\r\n                  margin-left: 30px;\r\n                  color: #999999;\r\n                  font-size: 26px;/*px*/\r\n                  line-height: 36px;\r\n                }\r\n                .category-num{\r\n                  position: absolute;\r\n                  top: 8px;\r\n                  left: 128px;\r\n                  width: 38px;\r\n                  height: 38px;\r\n                  background-color: #ff2e2e;\r\n                  border-radius: 50%;\r\n                  font-size: 24px;/*px*/\r\n                  color: #ffffff;\r\n                  text-align: center;\r\n                  line-height: 38px;\r\n                  transform: scale(0.75);\r\n                }\r\n              }\r\n              li:first-child{\r\n                .icon{\r\n                  position: absolute;\r\n                  width: 38px;\r\n                  left: 30px;\r\n                  top: 50%;\r\n                  margin-top: -19px;\r\n                }\r\n                .txt{\r\n                  padding-left: 48px;\r\n                }\r\n              }\r\n              li:last-child{\r\n                margin-bottom: 160px;\r\n              }\r\n            }\r\n          }\r\n          .main{\r\n            padding-left: 20px;\r\n            padding-right: 20px;\r\n            flex-grow: 1;\r\n            .outside-list{\r\n              .outside-item{\r\n                .type-name{\r\n                  line-height: 66px;\r\n                  font-size: 26px;/*px*/\r\n                  color: #666666;\r\n                }\r\n\r\n                &:last-child{\r\n                  padding-bottom: 120px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .floating-box{\r\n      display: flex;\r\n      position: absolute;\r\n      left: 30px;\r\n      bottom: 40px;\r\n      z-index: 99;\r\n      .features{\r\n        position: relative;\r\n        .title{\r\n          position: relative;\r\n          z-index: 9;\r\n          display: flex;\r\n          width: 180px;\r\n          height: 88px;\r\n          background-color: rgba(51,51,51,.9);\r\n          border-radius: 44px;\r\n          justify-content: center;\r\n          align-items: center;\r\n          font-size: 28px;/*px*/\r\n          color: #ffffff;\r\n          .icon{\r\n            width: 40px;\r\n            margin-right: 6px;\r\n          }\r\n        }\r\n        .list{\r\n          position: absolute;\r\n          left: 0;\r\n          bottom: 0;\r\n          padding-bottom: 88px;\r\n          li{\r\n            width: 180px;\r\n            height: 88px;\r\n            border-radius: 44px;\r\n            background-color: rgba(70,70,70,.8);\r\n            font-size: 26px;/*px*/\r\n            color: #ffffff;\r\n            margin-bottom: 10px;\r\n            text-align: center;\r\n            line-height: 88px;\r\n          }\r\n        }\r\n      }\r\n      .shopping-cart{\r\n        display: flex;\r\n        align-items: center;\r\n        width: 250px;\r\n        height: 88px;\r\n        margin-left: 64px;\r\n        border-radius: 44px;\r\n        background-color: rgba(255,215,59,.9);\r\n        .circle{\r\n          position: relative;\r\n          width: 82px;\r\n          height: 82px;\r\n          border-radius: 50%;\r\n          background: url(\"../../assets/img/home/icon_cart@2x.png\") no-repeat;\r\n          background-size: 100% 100%;\r\n          .num {\r\n            position: absolute;\r\n            top: 4px;\r\n            left: 38px;\r\n            width: 38px;\r\n            height: 38px;\r\n            background-color: #ff2e2e;\r\n            border-radius: 50%;\r\n            font-size: 24px;/*px*/\r\n            color: #ffffff;\r\n            text-align: center;\r\n            line-height: 38px;\r\n            transform: scale(0.75);\r\n          }\r\n        }\r\n        .total{\r\n          padding-left: 18px;\r\n          font-size: 24px;/*px*/\r\n          span{\r\n            font-size: 36px;/*px*/\r\n            font-weight: 600;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .move-dot{\r\n      position: fixed;\r\n      z-index: 98;\r\n      left: 300px;\r\n      bottom: 67px;\r\n      .move-liner{\r\n        display: block;\r\n        width: 28px;\r\n        height: 28px;\r\n        border-radius: 50%;\r\n        background-color: #ff2e2e;\r\n      }\r\n    }\r\n    .mask{\r\n      position: fixed;\r\n      width: 100%;\r\n      height: 100%;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: rgba(0,0,0,.6);\r\n      z-index: 99;\r\n    }\r\n    .mint-popup{\r\n      width: 100%;\r\n    }\r\n    .goods-detail-wrapper{\r\n      width: 600px;\r\n      .goods-detail{\r\n        .goods-pic{\r\n          display: block;\r\n          width: 100%;\r\n          height: auto;\r\n          margin: 0 auto;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /*动态样式*/\r\n  .activity_menu{\r\n    background-color: #ffffff;\r\n    .txt{\r\n      color: #333333!important;\r\n    }\r\n  }\r\n  .show_info{\r\n    transform: translateX(0)!important;\r\n  }\r\n\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity .3s;\r\n  }\r\n  .fade-enter, .fade-leave-active {\r\n    opacity: 0;\r\n  }\r\n\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition: transform .3s;\r\n  }\r\n  .slide-enter, .slide-leave-active {\r\n    transform: translateY(100%);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/take_out/take_out.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"homePage\",staticClass:\"home-page\",style:({visibility: !_vm.showLoading ? 'visible' : 'hidden'})},[_c('div',{ref:\"_100px\",staticClass:\"_100px\"}),_vm._v(\" \"),_c('div',{staticClass:\"fixed-wrapper\"},[_c('div',{ref:\"banner\",staticClass:\"banner\"},[(_vm.storeInf)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.storeInf.store_log),expression:\"storeInf.store_log\"}],ref:\"logo\",staticClass:\"logo\"}):_c('img',{ref:\"logo\",staticClass:\"logo\",attrs:{\"src\":require(\"../../assets/img/common/login_logo_default@2x.png\")}}),_vm._v(\" \"),_c('div',{ref:\"searchIcon\",staticClass:\"search-icon\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.blockSearhIocn),expression:\"blockSearhIocn\"}],staticClass:\"block-icon\",attrs:{\"src\":require(\"../../assets/img/home/icon_search@2x.png\")}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.graySearhIocn),expression:\"graySearhIocn\"}],staticClass:\"scroll-show\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/home/icon_search_gray@2x.png\")}}),_vm._v(\" \"),_c('span',{style:({visibility: _vm.graySearhIocn ? 'visible' : 'hidden'})},[_vm._v(\"有什么想吃的搜一搜\")])])])]),_vm._v(\" \"),_c('div',{ref:\"storeInfo\",staticClass:\"store-info\",attrs:{\"id\":\"store_info\"}},[(_vm.storeInf)?_c('h3',{staticClass:\"store-name\"},[_vm._v(\"\\n        \"+_vm._s(_vm.storeInf.store_name)+\"\\n        \"),(_vm.operation)?_c('span',{staticClass:\"in-operation\"},[_vm._v(\"营业中\")]):_vm._e(),_vm._v(\" \"),(!_vm.operation)?_c('span',{staticClass:\"resting\"},[_vm._v(\"暂停营业\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"info01\"},[(_vm.storeInf)?_c('p',{staticClass:\"business-hours\"},[_vm._v(\"\\n          营业时间：\"+_vm._s(_vm.storeInf.open_time)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),_vm._m(0)])])]),_vm._v(\" \"),_c('div',{ref:\"scrollWrapper\",staticClass:\"scroll-wrapper\"},[_c('div',{ref:\"_wrapper\",staticClass:\"wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSimulationBtn),expression:\"showSimulationBtn\"}],staticClass:\"search-btn\",on:{\"click\":_vm.goSearch}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSimulationBtn),expression:\"showSimulationBtn\"}],staticClass:\"store-info-btn\",on:{\"touchstart\":function($event){_vm.showStoreInfo = true}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showSimulationBtn),expression:\"!showSimulationBtn\"}],staticClass:\"search-faker\",on:{\"click\":_vm.goSearch}}),_vm._v(\" \"),_c('p',{staticClass:\"table-num\"}),_vm._v(\" \"),_c('div',{ref:\"overview\",staticClass:\"goods-overview\"},[_c('div',{ref:\"sideScrollBox\",staticClass:\"side scroll-box\"},[_c('ul',{staticClass:\"goods-type-list\"},_vm._l((_vm.dishes),function(item,index){return _c('li',{key:index,staticClass:\"type-item\",class:{activity_menu: index === _vm.catIndex},on:{\"click\":function($event){_vm.chooseMenu(index)}}},[(index === 0)?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../assets/img/home/icon_tuijian@2x.png\")}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"txt\"},[_vm._v(\"\\n               \"+_vm._s(item.cat_name)+\"\\n             \")]),_vm._v(\" \"),(_vm.cartInfo.catList[item.cat_id] > 0)?_c('span',{staticClass:\"category-num\"},[_vm._v(_vm._s(_vm.cartInfo.catList[item.cat_id]))]):_vm._e()])}))]),_vm._v(\" \"),_c('div',{ref:\"mainScrollBox\",staticClass:\"main scroll-box\"},[_c('ul',{staticClass:\"outside-list\"},_vm._l((_vm.dishes),function(items){return _c('li',{staticClass:\"outside-item\"},[_c('h4',{staticClass:\"type-name\"},[_vm._v(\"\\n                \"+_vm._s(items.cat_name)+\"\\n              \")]),_vm._v(\" \"),_c('goods',{attrs:{\"items\":items.goods},on:{\"showSpecs\":_vm.showSpecsList,\"moveInCart\":_vm.listenInCart,\"showMoveDot\":_vm.showMoveDotFun,\"showGoodsDetail\":_vm.showGoodsDetail}})],1)}))])])])]),_vm._v(\" \"),_c('floating',{ref:\"floating\",attrs:{\"appending\":_vm.appending},on:{\"showCart\":_vm.showCartInfo}}),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.specsVisible),callback:function ($$v) {_vm.specsVisible=$$v},expression:\"specsVisible\"}},[_c('goods-specification',{attrs:{\"info\":_vm.specificationInfo},on:{\"closeSpecs\":_vm.closeSpecsList}})],1),_vm._v(\" \"),_c('mt-popup',{staticClass:\"goods-detail-wrapper\",attrs:{\"position\":\"center\",\"popup-transition\":\"popup-fade\"},model:{value:(_vm.goodsDetailVisible),callback:function ($$v) {_vm.goodsDetailVisible=$$v},expression:\"goodsDetailVisible\"}},[_c('div',{staticClass:\"goods-detail\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.goodsPic),expression:\"goodsPic\"}],staticClass:\"goods-pic\"})])]),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},on:{\"input\":_vm.closeCartInfo},model:{value:(_vm.cartInfoVisible),callback:function ($$v) {_vm.cartInfoVisible=$$v},expression:\"cartInfoVisible\"}},[_c('cart-specification',{on:{\"closeCart\":_vm.closeCartInfo}})],1),_vm._v(\" \"),_c('store-info',{class:{show_info: _vm.showStoreInfo},attrs:{\"store-info\":_vm.storeInf},on:{\"close\":function($event){_vm.showStoreInfo = false}}}),_vm._v(\" \"),_vm._l((_vm.showMoveDot),function(item,index){return _c('transition',{key:index,attrs:{\"appear\":\"\"},on:{\"after-appear\":_vm.afterEnter,\"before-appear\":_vm.beforeEnter}},[(item)?_c('div',{staticClass:\"move-dot\"},[_c('span',{staticClass:\"move-liner\"})]):_vm._e()])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"introduction-btn\"},[_vm._v(\"\\n          商铺信息\\n          \"),_c('i',{staticClass:\"fa fa-angle-right\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74f98e36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/take_out/take_out.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74f98e36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./take_out.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./take_out.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74f98e36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./take_out.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74f98e36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/take_out/take_out.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}