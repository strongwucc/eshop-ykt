{"version":3,"sources":["webpack:///./src/assets/img/common/icon_edit@2x.png","webpack:///src/components/quick_meal_confirm/use_integral.vue","webpack:///./src/components/quick_meal_confirm/use_integral.vue?c2a0","webpack:///./src/components/quick_meal_confirm/use_integral.vue","webpack:///src/components/quick_meal_confirm/use_coupon.vue","webpack:///./src/components/quick_meal_confirm/use_coupon.vue?4712","webpack:///./src/components/quick_meal_confirm/use_coupon.vue","webpack:///src/components/quick_meal_confirm/quick_meal_confirm.vue","webpack:///./src/components/quick_meal_confirm/quick_meal_confirm.vue?58d6","webpack:///./src/components/quick_meal_confirm/quick_meal_confirm.vue"],"names":["module","exports","use_integral","name","data","useIntegral","currentVisible","transition","props","value","point","total_point","point_setting","rule_name","methods","handleVisible","this","usePoint","parseInt","$myToast","$emit","autoScroll","watch","val","_this","setTimeout","_this2","mounted","$refs","_useIntegral","style","height","window","innerHeight","quick_meal_confirm_use_integral","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","ref","staticClass","on","hidden","attrs","click","$event","_e","_v","src","__webpack_require__","_s","type","domProps","blur","input","target","composing","staticRenderFns","components_quick_meal_confirm_use_integral","normalizeComponent","ssrContext","use_coupon","useCoupon","coupons","Array","totalAmount","Number","components","CouponsList","my_coupons_list","queryCoupon","coupon","$http","post","API","order","coupon_query","total_money","code","then","res","return_code","discount","detail","extra","consume_amount","return_msg","cancelUse","_this3","_useCoupon","quick_meal_confirm_use_coupon","need-load","coupon-list","cancelUseCoupon","components_quick_meal_confirm_use_coupon","use_coupon_normalizeComponent","quick_meal_confirm","useAddrViewVisible","useIntegralViewVisible","useCouponsViewVisible","score","couponCode","couponDiscount","couponName","featuresViewVisible","mark_text","mark_editing","paying","UseIntegral","UseCoupons","getConfirmPayInfo","beforeDestroy","clearInterval","deskStatusTimer","computed","extends_default","Object","vuex_esm","storeId","state","common","common_data","store_info","store_id","storeName","store_name","storeLogo","store_log","lvName","user","user_info","lv_name","cartList","cart","totalData","total","num","$store","forEach","cartItem","price","member_price","adjunct","adjunctItem","NP","round","total_amount","parseFloat","pay_amount","point_rate","out_confirm_pay","showUsebleIntegral","showUsableCoupon","length","useScore","card_type","least_cost","reduce_cost","goPay","payData","payment","dishes","dishItem","goods_bn","bn","taste","adjuncts","push","quick_create","clearCart","$router","order_id","add","go","markEdit","$nextTick","mark","focus","showMark","scroll","quick_meal_confirm_quick_meal_confirm","visibility","_l","item","index","_f","unit","i","props_name","j","stopPropagation","usePointCallback","model","callback","$$v","total-amount","cancelUseCouponCallback","useCouponCallback","quick_meal_confirm_Component","quick_meal_confirm_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/21.c52239dcd9c6da87f252.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAHiklEQVR4Xu2aa0xUVxCAZ+6C6xJr0GrUEKkPfhCNoA0+okUSo9XGGJWYtKl/tBrSiLvnbmuwVaPUVy3V7D27tqa01fpD02qI1gcx9ZFq1LQ+EUnDDxQBCRoTFVHWVfeeZq4sKrrCWe4+CDs/955z7sw3c86dM7MI3Vywm9sPcQDxCOjmBOJboJsHQPwQjG+BWNwChYWFSmNjY7au65lCiDohRKnH4/GFQ9eYiwDGWAYiHgGAQQGDhRB3EHFVcnLyL4WFhbqZIGIKQH5+/rsJCQkViDhw8ODBkJ6eDpWVlVBXVxew+QoA5GuadsYsCDEFgDH2AyIuGTZsGCxZsgQsFoth58WLF+HAgQPw4MGDgN17/H7/lx6P52ZnQcQMALvdPkJRlHJFUSwrVqyAfv36vWLbkydP4Pjx43DixAl49uwZPaMzoai5uXlTcXFxc6ggYgYAY+w0Ik7q2bMnLFq0CNLS0t5o071794xoKCsrCzyvAoBpmqbdCAVCTABwOp2zhRD7ERGEEIYdo0aNgjlz5kDfvn3faFd1dTXs2bMHbt26Rc/LNE0b0yUB5OXlJdpstipETJ03bx40NTXByZMn4fHjx4Y9M2bMgMmTJ4PNZnvNPtoWGzduhMbGRtB1Pcvtdl+UhRD1CFBVtQAAvhswYAAsX74cKAq8Xi/s27cPzp8/b9hDxs+dOxfGjh37mn07d+40tgMiznG5XH92KQB2u72/oig3EDFp6dKlMHz48Ff0r6+vN0Bcu3bN+D0lJcXYFoHzwe/3w7p164wIEEJkcs7LuxQAVVV/BYDPMjIyYOHChUF1P3fuHBw5cgToACQZN24cTJ8+3fD8wYMHyfhyznmmrPE0PmpbQFXV0UKISwkJCbhy5Uro06fPW/WnbUFnQ+B8oG3h8/lo7xOAHM75qa4G4F9y5tSpU2HmzJkd1v3u3btGNATOByHEAc757A4v0GZgVCKAMfYxIv7eu3dvIO/36NFDSn86GzZv3kyefyqESHO73bVSC7w0OOIA7Ha71WKxVNNlZ/78+ZCVlSWtu8vlgtraWgLwPeecviIhS8QBMMZWI+I3qamp4HQ6pRW/cOEC7Nq1i4y/Y7VahxcVFTVJLxKtCFBVdZAQohoRrcuWLTM+azJCic+GDRuMS5EQYjHnnL4inZKIRgBjbBcifkphT+EvK6WlpXD06FGaRqnv+wDwPG/uhEQMAGNsPCL+k5iYCKtXr4ZevXpJqU05AHmfkh8hxATOOX1FOi0RA6Cq6mUAGE2fPPr0ycqOHTugvLycjP+Dc/6J7Pxg4yMCQFXVBQCwIzk5GVatWtVa6OioEZQKb926lYz3IeJQTdMaOjq3vXFhB5CXl5dks9ko3+9P6S6lvTJCmV5RURHcvn2bAKzlnK+Rmd/e2LADYIx9i4hfUZnLbre3p89rz0+fPg0lJSX0e4Pf7x9qdnU4rAAcDkcqIlYpipJYUFAAAwcOlALQ3NwM69evN67Huq7Pd7vdu6UW6MDgsAJQVZVclztp0iSgYoeskOcpAgDgnKZp42Xnd2R82AAwxiYj4km6tdHBl5SU1BF9WsdQqYv2fkuJbIymaa1FQKmF2hkcLgDIGKP6/ojc3FzIzs6W1tnj8cD169dp3m+apgUvFkiv/OqEsABwOByfK4qyjcpctPcVRZFS8+rVq7B9+3byfrOu60M8Hs8dqQUkBpsOoKCg4B2fz1eDiH3eVOZqTzfK9Ojgu3//Ph18X7vd7k3tzenMc9MBqKrqAgB15MiRsHjxYmndjh07BocPHybv13q93rTi4uKn0otITDAVgNPpTNN1vdJisVjo4GuvzNVWz4cPH8LatWvh6VPD5rmapu2XsCWkoaYCUFW1FAA+mjJlCsyaNUtaIbrn031fCHGKc54jvUAIE0wDwBibhoh/0WdvzZo1YLVapdSpqakBTdPIeL+u6xkej+c/qQVCHGwmgCuIaCT6OTk5Rtn6Td2cYHpSjY9qfUKIHznn+SHaIz3NTAAliJgb0OBt3Zy2WlKFd/duI8tt8vl8723btu15AyACYiaADYi4YuLEicbNLVg3p61NVOaig+/Ro0fkfcY5d0fA7tZXmAbA4XAsVBRle6DcRckMtbUC3Zxg3d5Dhw4ZfX8AqKqvr0/fu3evv0sCCOT+Q4YMAcZYqw3UxAjW7SU4lPS0dHc+5JwbBb9IimkR4HQ6U4QQN6nWRw3Ll6VtN4d6/tT2phJXRUUFhf4hzrn8d9MEUqYBIF0YY15E7Em3OCp+tpWqqiqjrRU4H+g5dXcURRnhcrnonx4RF1MBqKpaAQAjg9X8qZlJiQ6Vtqml3QJgC+d8WcQtb3mh2QAodZ29YMECyMx80a2mNtbZs2fh0qVLgTSXPE9/+SqxWq2ss92dzsAzG8AWAPhiwoQJRip8+fJlOHPmDDQ0vCjiUpoLAD/rur7X7PpeKCBMBeB0OrOFEH8DwCsFgJZ/eu5ExJ+itdeDwTEVAL3E4XB8oCiKh/6yAgDHyNter3d/uK+1oXif5pgOIFRFojUvDiBa5GPlvfEIiBVPREuPeAREi3ysvDceAbHiiWjp0e0j4H+fJCduMEx4rwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/common/icon_edit@2x.png\n// module id = 71wJ\n// module chunks = 21","<template>\r\n  <div class=\"use-integral\" ref=\"_useIntegral\" v-show=\"currentVisible === true\" @hidden=\"handleVisible\">\r\n    <transition name=\"fade\">\r\n      <div v-if=\"transition\" class=\"mask\" @click=\"transition = false\"></div>\r\n    </transition>\r\n    <transition name=\"slide\">\r\n      <div v-if=\"transition\" class=\"main\">\r\n        <i class=\"close\" @click=\"transition = false\">\r\n          <img src=\"../../assets/img/common/pop_off.png\">\r\n        </i>\r\n        <h4 class=\"title\">\r\n          使用积分\r\n        </h4>\r\n        <p class=\"usable\">\r\n          可用积分：{{point.total_point}}\r\n        </p>\r\n        <div class=\"in-wrapper\">\r\n          <input type=\"tel\" v-model=\"useIntegral\" @blur=\"autoScroll\"/>\r\n        </div>\r\n        <p class=\"tip\">积分规则：{{point.rule_name}}</p>\r\n        <button class=\"confirm\" @click=\"usePoint\">确定</button>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"use_integral\",\r\n    data () {\r\n      return {\r\n        useIntegral: '',\r\n        currentVisible: false,\r\n        transition: false\r\n      }\r\n    },\r\n\r\n    props: {\r\n      value: true,\r\n      point: {\r\n        total_point: 0,\r\n        point_setting: 1,\r\n        rule_name: ''\r\n      },\r\n    },\r\n\r\n    methods: {\r\n      handleVisible () {\r\n        this.currentVisible = false\r\n      },\r\n      usePoint () {\r\n        if (parseInt(this.useIntegral) > parseInt(this.point.total_point)) {\r\n          this.$myToast('积分不够')\r\n          return false\r\n        }\r\n        this.$emit('usePointCallback',this.useIntegral)\r\n        this.transition = false\r\n      },\r\n      autoScroll () {\r\n        this.$emit('autoScroll')\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      value: function (val) {\r\n        this.currentVisible = val\r\n        if (val) {\r\n          setTimeout(() => {\r\n            this.transition = val\r\n          }, 20)\r\n        }\r\n      },\r\n\r\n      transition: function (val) {\r\n        if (!val) {\r\n          setTimeout(() => {\r\n            this.currentVisible = val\r\n          }, 300)\r\n        }\r\n      },\r\n\r\n      currentVisible: function (val) {\r\n        this.$emit('input', val)\r\n\r\n      },\r\n      useIntegral: function (val) {\r\n        this.useIntegral = parseInt(val) > 0 && parseInt(val) > parseInt(this.point.total_point) ? this.point.total_point : val\r\n      }\r\n    },\r\n\r\n    mounted () {\r\n      if (this.value) {\r\n        this.currentVisible = true\r\n      }\r\n      this.$refs._useIntegral.style.height = window.innerHeight + 'px'\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../assets/css/mixin\";\r\n  @import \"../../assets/css/common\";\r\n  .use-integral{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 99;\r\n    .mask{\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0,0,0,.6);\r\n    }\r\n    .main{\r\n      position: absolute;\r\n      width: 100%;\r\n      background-color: #ffffff;\r\n      border-top-right-radius: 20px;\r\n      border-top-left-radius: 20px;\r\n      bottom: 0;\r\n      left: 0;\r\n      text-align: center;\r\n      .close{\r\n        position: absolute;\r\n        display: block;\r\n        width: 34px;\r\n        height: 34px;\r\n        top: 15px;\r\n        right: 15px;\r\n        img{\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n      .title{\r\n        font-size: 34px;/*px*/\r\n        font-weight: 700;\r\n        padding-top: 52px;\r\n      }\r\n      .usable{\r\n        font-size: 32px;/*px*/\r\n        margin-top: 92px;\r\n      }\r\n      .in-wrapper{\r\n        position: relative;\r\n        width: 580px;\r\n        height: 88px;\r\n        margin: 40px auto 50px auto;\r\n        input{\r\n          position: relative;\r\n          z-index: 9;\r\n          width: 100%;\r\n          height: 100%;\r\n          text-align: center;\r\n          background-color: rgba(0,0,0,0);\r\n        }\r\n        &:after{\r\n          @include all-border-1px(#e5e5e5, 8px);\r\n        }\r\n      }\r\n      .tip{\r\n        font-size: 26px;/*px*/\r\n        color: #8f740d;\r\n        margin-bottom: 144px;\r\n      }\r\n      .confirm{\r\n        width: 100%;\r\n        background-color: $themeColor;\r\n        font-size: 30px;/*px*/\r\n\r\n        height: 88px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity .3s;\r\n  }\r\n  .fade-enter, .fade-leave-active {\r\n    opacity: 0;\r\n  }\r\n\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition: transform .3s;\r\n  }\r\n  .slide-enter, .slide-leave-active {\r\n    transform: translateY(100%);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/quick_meal_confirm/use_integral.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentVisible === true),expression:\"currentVisible === true\"}],ref:\"_useIntegral\",staticClass:\"use-integral\",on:{\"hidden\":_vm.handleVisible}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.transition)?_c('div',{staticClass:\"mask\",on:{\"click\":function($event){_vm.transition = false}}}):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.transition)?_c('div',{staticClass:\"main\"},[_c('i',{staticClass:\"close\",on:{\"click\":function($event){_vm.transition = false}}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/common/pop_off.png\")}})]),_vm._v(\" \"),_c('h4',{staticClass:\"title\"},[_vm._v(\"\\n        使用积分\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"usable\"},[_vm._v(\"\\n        可用积分：\"+_vm._s(_vm.point.total_point)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"in-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.useIntegral),expression:\"useIntegral\"}],attrs:{\"type\":\"tel\"},domProps:{\"value\":(_vm.useIntegral)},on:{\"blur\":_vm.autoScroll,\"input\":function($event){if($event.target.composing){ return; }_vm.useIntegral=$event.target.value}}})]),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_vm._v(\"积分规则：\"+_vm._s(_vm.point.rule_name))]),_vm._v(\" \"),_c('button',{staticClass:\"confirm\",on:{\"click\":_vm.usePoint}},[_vm._v(\"确定\")])]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a52b445a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/quick_meal_confirm/use_integral.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a52b445a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./use_integral.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./use_integral.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./use_integral.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a52b445a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./use_integral.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a52b445a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/quick_meal_confirm/use_integral.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"use-coupon\" ref=\"_useCoupon\" v-show=\"currentVisible === true\" @hidden=\"handleVisible\">\r\n    <transition name=\"fade\">\r\n      <div v-if=\"transition\" class=\"mask\" @click=\"transition = false\"></div>\r\n    </transition>\r\n    <transition name=\"slide\">\r\n      <div v-if=\"transition\" class=\"main\">\r\n        <h4 class=\"title\">使用优惠券</h4>\r\n        <div class=\"scroll-wrapper\">\r\n          <coupons-list :need-load=\"false\" :coupon-list=\"coupons\" @cancelUseCoupon=\"cancelUse\" @useCoupon=\"queryCoupon\"></coupons-list>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import CouponsList from '../../base/my_coupons_list'\r\n  export default {\r\n    name: \"use_coupon\",\r\n    data () {\r\n      return {\r\n        useCoupon: '',\r\n        currentVisible: false,\r\n        transition: false,\r\n      }\r\n    },\r\n\r\n    props: {\r\n      value: true,\r\n      coupons: {\r\n        type: Array\r\n      },\r\n      totalAmount: {\r\n        type: Number\r\n      }\r\n      // point: {\r\n      //   total_point: 0,\r\n      //   point_setting: 1,\r\n      //   rule_name: ''\r\n      // },\r\n    },\r\n\r\n    components: {\r\n      CouponsList\r\n    },\r\n\r\n    methods: {\r\n      handleVisible () {\r\n        this.currentVisible = false\r\n      },\r\n      queryCoupon (coupon) {\r\n        this.$http.post(this.API.order.coupon_query, {total_money: this.totalAmount, code: coupon.code}).then( res => {\r\n          if (res.return_code == '0000') {\r\n            this.transition = false\r\n            this.$emit('useCouponCallback', {coupon: coupon, discount: res.data.detail.extra.consume_amount})\r\n          } else {\r\n            this.$myToast(res.return_msg)\r\n            return\r\n          }\r\n        })\r\n      },\r\n      cancelUse () {\r\n        this.transition = false\r\n        this.$emit('cancelUseCouponCallback')\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      value: function (val) {\r\n        this.currentVisible = val\r\n        if (val) {\r\n          setTimeout(() => {\r\n            this.transition = val\r\n          }, 20)\r\n        }\r\n      },\r\n\r\n      transition: function (val) {\r\n        if (!val) {\r\n          setTimeout(() => {\r\n            this.currentVisible = val\r\n          }, 300)\r\n        }\r\n      },\r\n\r\n      currentVisible: function (val) {\r\n        this.$emit('input', val)\r\n\r\n      },\r\n\r\n    },\r\n\r\n    mounted () {\r\n      if (this.value) {\r\n        this.currentVisible = true\r\n      }\r\n      this.$refs._useCoupon.style.height = window.innerHeight + 'px'\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../assets/css/mixin\";\r\n  @import \"../../assets/css/common\";\r\n  .use-coupon{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 99;\r\n    .mask{\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0,0,0,.6);\r\n    }\r\n    .main{\r\n      position: absolute;\r\n      width: 100%;\r\n\r\n      background-color: #ffffff;\r\n      border-top-right-radius: 20px;\r\n      border-top-left-radius: 20px;\r\n      bottom: 0;\r\n      left: 0;\r\n      text-align: center;\r\n      .scroll-wrapper{\r\n        height: 800px;\r\n        overflow-y: scroll;\r\n        -webkit-overflow-scrolling: touch;\r\n      }\r\n      .close{\r\n        position: absolute;\r\n        display: block;\r\n        width: 34px;\r\n        height: 34px;\r\n        top: 15px;\r\n        right: 15px;\r\n        img{\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n      .title{\r\n        font-size: 34px;/*px*/\r\n        font-weight: 600;\r\n        padding-top: 52px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity .3s;\r\n  }\r\n  .fade-enter, .fade-leave-active {\r\n    opacity: 0;\r\n  }\r\n\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition: transform .3s;\r\n  }\r\n  .slide-enter, .slide-leave-active {\r\n    transform: translateY(100%);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/quick_meal_confirm/use_coupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentVisible === true),expression:\"currentVisible === true\"}],ref:\"_useCoupon\",staticClass:\"use-coupon\",on:{\"hidden\":_vm.handleVisible}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.transition)?_c('div',{staticClass:\"mask\",on:{\"click\":function($event){_vm.transition = false}}}):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.transition)?_c('div',{staticClass:\"main\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"使用优惠券\")]),_vm._v(\" \"),_c('div',{staticClass:\"scroll-wrapper\"},[_c('coupons-list',{attrs:{\"need-load\":false,\"coupon-list\":_vm.coupons},on:{\"cancelUseCoupon\":_vm.cancelUse,\"useCoupon\":_vm.queryCoupon}})],1)]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-270ad0b0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/quick_meal_confirm/use_coupon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-270ad0b0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./use_coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./use_coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./use_coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-270ad0b0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./use_coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-270ad0b0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/quick_meal_confirm/use_coupon.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"confirm-pay-page\">\r\n    <div class=\"goods-ready-pay\" :style=\"{visibility: 'visible'}\">\r\n      <div class=\"base-info\">\r\n        <div class=\"l\">\r\n          <img v-if=\"storeLogo\" src=\"../../assets/img/pay/order_img_shop@2x.png\">\r\n          <img v-else src=\"../../assets/img/pay/order_img_shop@2x.png\">\r\n          <span class=\"title\">{{storeName}}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"goods-category\">\r\n        <ul class=\"goods-list\">\r\n          <li v-for=\"(item, index) in cartList\">\r\n            <img class=\"goods-pic\" v-if=\"item.image_url\" v-lazy=\"item.image_url\">\r\n            <img class=\"goods-pic\" v-else src=\"../../assets/img/common/goods_img_default_100@2x.png\">\r\n            <div class=\"goods-info\">\r\n              <div class=\"l\">\r\n                <p class=\"goods-name\">{{item.name | longStrFormat(17)}}<span class=\"unit\">/{{item.unit}}</span></p>\r\n                <p class=\"adjuncts\">\r\n                  <template v-if=\"item.taste.length > 0\">\r\n                    <template v-for=\"(props, index) in item.taste\">\r\n                      <span v-for=\"(taste, i) in props.items\">\r\n                        {{taste.props_name}}\r\n                        <template>{{i === item.taste.length - 1 ? '；' : '，'}}</template>\r\n                      </span>\r\n                    </template>\r\n                  </template>\r\n                  <template v-if=\"item.adjunct.length > 0\">\r\n                      <span v-for=\"(adjunct, j) in item.adjunct\">\r\n                        {{adjunct.name + '×' + adjunct.num}}\r\n                        <template>{{j === item.adjunct.length - 1 ? '；' : '，'}}</template>\r\n                      </span>\r\n                  </template>\r\n                </p>\r\n              </div>\r\n              <div class=\"r\">\r\n                <div class=\"price\">\r\n                  <p class=\"finally-price\">￥{{item.member_price | formatActualMoney}}</p>\r\n                  <p class=\"original-price\" v-if=\"NP.round(parseFloat(item.price) - parseFloat(item.member_price),2) > 0\">￥{{item.price | formatActualMoney}}</p>\r\n                </div>\r\n              </div>\r\n              <p class=\"single-total\">×{{item.num}}</p>\r\n            </div>\r\n\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"remark\" @click.stop=\"markEdit\">\r\n        <span>备注：</span>\r\n        <template v-if=\"mark_editing\">\r\n          <input v-model=\"mark_text\" ref=\"mark\" @blur=\"showMark\"/>\r\n        </template>\r\n        <template v-else>\r\n          <span>{{mark_text}}</span>\r\n          <img src=\"../../assets/img/common/icon_edit@2x.png\"/>\r\n        </template>\r\n      </div>\r\n\r\n      <div class=\"sum-up\">\r\n        <div class=\"l\">\r\n          商品共{{totalData.num}}份\r\n        </div>\r\n        <div class=\"r\">\r\n          <div class=\"member-discount\">\r\n            <div class=\"member-label\">{{lvName}}</div>\r\n            <div class=\"discount-amount\">\r\n              <span class=\"txt\">已优惠</span>\r\n              <span class=\"num\">￥{{totalData.discount | formatActualMoney}}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"lump-sum\">\r\n            <span class=\"txt\">小计</span>\r\n            <span class=\"num\">￥{{totalData.total | formatActualMoney}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"deduction\">\r\n      <div class=\"coupon\" @click=\"showUsableCoupon\">\r\n        <span class=\"label\">\r\n          优惠券\r\n        </span>\r\n        <div class=\"r\">\r\n          <span class=\"usable\" v-if=\"couponCode\">\r\n            {{couponName}}\r\n          </span>\r\n          <span class=\"unusable\" v-else-if=\"coupons.length === 0\">\r\n            无可用的优惠券\r\n          </span>\r\n          <span class=\"useble\" v-else>\r\n            {{coupons.length}}张\r\n          </span>\r\n          <img src=\"../../assets/img/common/arrow_right@2x.png\">\r\n        </div>\r\n      </div>\r\n      <div class=\"integral\">\r\n        <span class=\"label\">积分</span>\r\n        <div class=\"r\" @click=\"showUsebleIntegral\">\r\n          <span class=\"unusable\" v-if=\"!score\">\r\n            未使用积分（{{point.total_point}}可用）\r\n          </span>\r\n          <span class=\"usable\" v-else>\r\n            已使用{{score}}积分\r\n          </span>\r\n          <img src=\"../../assets/img/common/arrow_right@2x.png\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"floating\">\r\n      <div class=\"features\">\r\n        <div class=\"title\" @click=\"add\">\r\n          <!--<img class=\"icon\" src=\"../../assets/img/shop_cart/shop_icon_plus@2x.png\">-->\r\n          返回\r\n        </div>\r\n      </div>\r\n      <div class=\"wait-pay\">\r\n        <div class=\"lump-sum\">\r\n          <span>合计</span>\r\n          <span class=\"amount\">￥{{pay_amount | formatActualMoney}}</span>\r\n        </div>\r\n        <button @click=\"goPay\">提交订单</button>\r\n      </div>\r\n    </div>\r\n    <use-integral :point=\"point\" v-model=\"useIntegralViewVisible\" @usePointCallback=\"useScore\" @autoScroll=\"autoScroll\"></use-integral>\r\n    <use-coupons v-model=\"useCouponsViewVisible\" :total-amount=\"total_amount\" :coupons=\"coupons\" @cancelUseCouponCallback=\"cancelUseCoupon\" @useCouponCallback=\"useCoupon\"></use-coupons>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import UseIntegral from './use_integral'\r\n  import UseCoupons from './use_coupon'\r\n  import {mapState, mapMutations} from 'vuex'\r\n  export default {\r\n    name: \"quick_meal_confirm\",\r\n    data () {\r\n      return {\r\n        useAddrViewVisible: false,\r\n        useIntegralViewVisible: false,\r\n        useCouponsViewVisible: false,\r\n        score: 0,\r\n        couponCode: '',\r\n        couponDiscount: 0,\r\n        couponName: '',\r\n        point: {\r\n          total_point: 0,\r\n          point_setting: 1\r\n        },\r\n        coupons: [],\r\n        featuresViewVisible: false,//显示功能列表\r\n        mark_text: '',\r\n        mark_editing: false,\r\n        paying: false\r\n      }\r\n    },\r\n    components: {\r\n      UseIntegral, UseCoupons\r\n    },\r\n    mounted () {\r\n      this.getConfirmPayInfo()\r\n    },\r\n    beforeDestroy () {\r\n      clearInterval(this.deskStatusTimer)\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        storeId: state => state.common.common_data.store_info.store_id,\r\n        storeName: state => state.common.common_data.store_info.store_name,\r\n        storeLogo: state => state.common.common_data.store_info.store_log,\r\n        lvName: state => state.user.user_info.lv_name,\r\n        cartList: state => state.cart.cart.cartList,\r\n      }),\r\n      //商品总金额\r\n      totalData: function () {\r\n        let total = 0\r\n        let discount = 0\r\n        let num = 0\r\n        let cartList = this.$store.state.cart.cart.cartList\r\n        cartList.forEach(cartItem => {\r\n          num += parseInt(cartItem.num)\r\n          total += cartItem.price*cartItem.num\r\n          discount += (cartItem.price - cartItem.member_price) * cartItem.num\r\n          cartItem.adjunct.forEach(adjunctItem => {\r\n            total += adjunctItem.price*adjunctItem.num\r\n            discount += (adjunctItem.price - adjunctItem.member_price) * adjunctItem.num\r\n          })\r\n        })\r\n        return {num: num, total: this.NP.round(total,2), discount: this.NP.round(discount,2)}\r\n      },\r\n      total_amount: function () {\r\n        let total_amount = 0\r\n        let cartList = this.$store.state.cart.cart.cartList\r\n        cartList.forEach(cartItem => {\r\n          total_amount += parseFloat(cartItem.member_price*cartItem.num)\r\n          cartItem.adjunct.forEach(adjunctItem => {\r\n            total_amount += parseFloat(adjunctItem.member_price*adjunctItem.num)\r\n          })\r\n        })\r\n        return this.NP.round(total_amount,2)\r\n      },\r\n      pay_amount: function () {\r\n        let pay_amount = 0\r\n        let cartList = this.$store.state.cart.cart.cartList\r\n        cartList.forEach(cartItem => {\r\n          pay_amount += parseFloat(cartItem.member_price*cartItem.num)\r\n          cartItem.adjunct.forEach(adjunctItem => {\r\n            pay_amount += parseFloat(adjunctItem.member_price*adjunctItem.num)\r\n          })\r\n        })\r\n        pay_amount = pay_amount - this.score * this.point.point_rate\r\n        pay_amount = pay_amount - this.couponDiscount\r\n\r\n        pay_amount = pay_amount > 0 ? pay_amount : 0\r\n\r\n        return this.NP.round(pay_amount,2)\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations([\r\n        'clearCart'\r\n      ]),\r\n      getConfirmPayInfo () {\r\n        let storeId = this.$store.state.common.common_data.store_info.store_id\r\n        this.$http.post(this.API.order.out_confirm_pay,{store_id: storeId, total_amount: this.total_amount}).then(res => {\r\n          if (res.return_code == '0000') {\r\n            this.point = res.data.point\r\n            this.coupons = res.data.coupon\r\n\r\n          } else {\r\n            this.$myToast(res.return_msg)\r\n            return\r\n          }\r\n        })\r\n      },\r\n      showUsebleIntegral () {\r\n        if (this.point.point_setting == 2 && this.point.total_point > 0) {\r\n          this.useIntegralViewVisible = true\r\n        } else {\r\n          this.$myToast('没有可用积分或者商户未开启积分抵扣')\r\n        }\r\n      },\r\n      showUsableCoupon () {\r\n        if (this.coupons.length === 0) {\r\n          return false\r\n        }\r\n        this.useCouponsViewVisible = true\r\n      },\r\n      useScore (score) {\r\n        this.score = score\r\n        if (this.total_amount <= this.score * this.point.point_rate) {\r\n          this.$myToast('积分抵扣金额不能超过商品金额')\r\n        }\r\n      },\r\n      useCoupon (data) {\r\n        this.couponCode = data.coupon.code\r\n        this.couponDiscount = data.discount\r\n\r\n        if (data.coupon.card_type === 'CASH') {\r\n          if (data.coupon.least_cost > 0) {\r\n            this.couponName = '满减券'+parseInt(data.coupon.reduce_cost)+'元'\r\n          } else {\r\n            this.couponName = '代金券'+parseInt(data.coupon.reduce_cost)+'元'\r\n          }\r\n        } else if (data.coupon.card_type === 'DISCOUNT') {\r\n          this.couponName = '折扣券'+(100 - data.coupon.discount)/10+'折'\r\n        }\r\n      },\r\n      cancelUseCoupon () {\r\n        this.couponCode = ''\r\n        this.couponDiscount = 0\r\n      },\r\n      goPay () {\r\n\r\n        if (this.paying === true) {\r\n          return false\r\n        }\r\n\r\n        let payData = {payment: 'wxpaynative'}\r\n        if (this.score > 0) {\r\n          payData.score = this.score\r\n        }\r\n        if (this.couponCode) {\r\n          payData.coupon = this.couponCode\r\n        }\r\n\r\n        payData.store_id = this.storeId\r\n\r\n        let cartList = this.cartList\r\n\r\n        if (cartList.length === 0) {\r\n          this.$myToast('购物车不能为空')\r\n          return false\r\n        }\r\n\r\n        if (this.mark_text) {\r\n          payData.mark_text = this.mark_text\r\n        }\r\n\r\n        let dishes = []\r\n\r\n        cartList.forEach(cartItem => {\r\n          let dishItem = {}\r\n          dishItem.goods_bn = cartItem.bn\r\n          dishItem.num = cartItem.num\r\n          dishItem.taste = cartItem.taste\r\n          let adjuncts = []\r\n          cartItem.adjunct.forEach(adjunctItem => {\r\n            let adjunct = {goods_bn: adjunctItem.goods_bn, num: adjunctItem.num}\r\n            adjuncts.push(adjunct)\r\n          })\r\n          dishItem.adjunct = adjuncts\r\n          dishes.push(dishItem)\r\n        })\r\n\r\n        payData.dishes = dishes\r\n\r\n        if (this.total_amount <= this.score * this.point.point_rate) {\r\n          this.$myToast('积分抵扣金额不能超过商品金额')\r\n          return false\r\n        }\r\n\r\n        this.paying = true\r\n        this.$http.post(this.API.order.quick_create,payData).then(res => {\r\n          this.paying = false\r\n          if (res.return_code == '200') {\r\n            this.clearCart(this.storeId)\r\n            this.$router.push('/pay_success/' + res.data.order_id)\r\n          } else if (res.return_code == '0000') {\r\n            this.clearCart(this.storeId)\r\n            this.$router.push('/pay/'+res.data.order_id)\r\n          } else {\r\n            this.$myToast(res.return_msg)\r\n            return\r\n          }\r\n        })\r\n      },\r\n      //功能菜单显示\r\n      add () {\r\n        this.$router.go(-1)\r\n      },\r\n      markEdit () {\r\n        this.mark_editing = true\r\n        this.$nextTick(() => {\r\n          this.$refs.mark.focus()\r\n        })\r\n      },\r\n      showMark () {\r\n        this.mark_editing = false\r\n      },\r\n      autoScroll () {\r\n        window.scroll(0,0)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../assets/css/mixin\";\r\n  @import \"../../assets/css/common\";\r\n  .confirm-pay-page{\r\n    position: relative;\r\n    min-height: 100%;\r\n    padding-bottom: 168px;\r\n    background-color: rgb(242,242,245);\r\n    z-index: 9;\r\n    .goods-ready-pay{\r\n      .base-info{\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        height: 60px;\r\n        background:rgba(247,247,247,1);\r\n        padding: 0 30px;\r\n        .l{\r\n          position: relative;\r\n          flex-grow: 1;\r\n          display: flex;\r\n          height: 100%;\r\n          align-items: center;\r\n          img{\r\n            width: 44px;\r\n            margin-right: 10px;\r\n          }\r\n        }\r\n      }\r\n      .goods-category{\r\n        background-color: #ffffff;\r\n        padding: 0 30px;\r\n        .head{\r\n          display: flex;\r\n          position: relative;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          height: 70px;\r\n          font-size: 24px;/*px*/\r\n          .category-total{\r\n            color: #666666;\r\n          }\r\n          &:after{\r\n            @include border-1px(#e5e5e5, bottom);\r\n          }\r\n        }\r\n        .goods-list{\r\n          position: relative;\r\n          padding-top: 40px;\r\n          li{\r\n            padding-bottom: 30px;\r\n            display: flex;\r\n\r\n            .goods-pic{\r\n              width: 100px;\r\n              height: 100px;\r\n              flex-shrink: 0;\r\n              margin-right: 20px;\r\n              border-radius: 8px;\r\n            }\r\n            .goods-info{\r\n              position: relative;\r\n              flex-grow: 1;\r\n              display: flex;\r\n              justify-content: space-between;\r\n              min-height: 100px;\r\n              padding-bottom: 26px;\r\n              .l{\r\n                width: 340px;\r\n                .goods-name{\r\n                  font-weight: 600;\r\n                  line-height: 36px;\r\n                  margin-top: -4px;\r\n                  margin-bottom: 6px;\r\n                  .unit{\r\n                    font-size: 24px;\r\n                    color: #999999;\r\n                  }\r\n                }\r\n                .adjuncts{\r\n                  font-size: 24px;/*px*/\r\n                  color: #999999;\r\n                  transform: scale(0.917);\r\n                  transform-origin: top left;\r\n                  line-height: 30px;\r\n                }\r\n              }\r\n              .r{\r\n                .price{\r\n                  text-align: right;\r\n                  .finally-price{\r\n                    font-size: 30px;\r\n                    font-weight: 600;\r\n                    margin-bottom: 10px;\r\n                  }\r\n                  .original-price{\r\n                    font-size: 24px;\r\n                    color: #999999;\r\n                    text-decoration: line-through;\r\n                  }\r\n                }\r\n              }\r\n\r\n              .single-total{\r\n                position: absolute;\r\n                font-size: 24px;/*px*/\r\n                color: #999999;\r\n                bottom: 0;\r\n                left: 0;\r\n              }\r\n            }\r\n          }\r\n          &:after{\r\n            @include border-1px(#e5e5e5, bottom);\r\n          }\r\n        }\r\n      }\r\n      .remark{\r\n        height: 100px;\r\n        padding: 0 30px;\r\n        line-height: 100px;\r\n        background-color: #ffffff;\r\n        font-size: 26px;/*px*/\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        align-items: center;\r\n        span{\r\n          font-weight: 700;\r\n          font-size: 28px;/*px*/\r\n        }\r\n        img {\r\n          width: 32px;\r\n          height: 32px;\r\n          margin-left: 10px;\r\n        }\r\n        input {\r\n          font-size: 28px;\r\n        }\r\n      }\r\n      .sum-up{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        background-color: #ffffff;\r\n        margin-top: 10px;\r\n        padding: 40px 30px;\r\n\r\n        .r{\r\n          .member-discount{\r\n            font-size: 24px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: flex-end;\r\n            padding-bottom: 24px;\r\n            .member-label{\r\n              font-size: 24px;/*px*/\r\n              padding: 6px;\r\n              position: relative;\r\n              color: #666666;\r\n              transform: scale(0.833);\r\n              transform-origin: center;\r\n              margin-right: 10px;\r\n              &:after{\r\n                @include all-border-1px(#666666, 4px);\r\n              }\r\n            }\r\n            .discount-amount{\r\n              .num{\r\n                display: inline-block;\r\n                margin-left: 20px;\r\n                text-align: right;\r\n              }\r\n            }\r\n          }\r\n          .lump-sum{\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: flex-end;\r\n            .num{\r\n              font-size: 32px;\r\n              display: inline-block;\r\n              font-size: 38px;\r\n              font-weight: bold;\r\n              /*color: #ff2e2e;*/\r\n              margin-left: 20px;\r\n              text-align: right;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .deduction{\r\n      margin-top: 10px;\r\n      background-color: #ffffff;\r\n      padding: 40px 30px;\r\n      .integral{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        margin-top: 40px;\r\n        .label{\r\n          font-weight: 700;\r\n        }\r\n        .r{\r\n          display: flex;\r\n          align-items: center;\r\n          .usable{\r\n            color: #ff2e2e;\r\n          }\r\n          .unusable{\r\n            color: #bbbbbb;\r\n          }\r\n          img{\r\n            margin-left: 4px;\r\n            width: 36px;\r\n          }\r\n        }\r\n      }\r\n      .coupon{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .label{\r\n          font-weight: 700;\r\n        }\r\n        .r{\r\n          display: flex;\r\n          align-items: center;\r\n          .unusable{\r\n            color: #bbbbbb;\r\n          }\r\n          .usable{\r\n            color: #ff2e2e;\r\n          }\r\n          img{\r\n            margin-left: 4px;\r\n            width: 36px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .floating{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      position: fixed;\r\n      width: 690px;\r\n      left: 50%;\r\n      margin-left: -345px;\r\n      bottom: 40px;\r\n      .features{\r\n        position: relative;\r\n        .title{\r\n          position: relative;\r\n          z-index: 9;\r\n          display: flex;\r\n          width: 180px;\r\n          height: 88px;\r\n          background-color: rgba(51,51,51,.9);\r\n          border-radius: 44px;\r\n          justify-content: center;\r\n          align-items: center;\r\n          font-size: 28px;/*px*/\r\n          color: #ffffff;\r\n          .icon{\r\n            width: 40px;\r\n            margin-right: 6px;\r\n          }\r\n        }\r\n        .list{\r\n          position: absolute;\r\n          left: 0;\r\n          bottom: 0;\r\n          padding-bottom: 88px;\r\n          li{\r\n            width: 180px;\r\n            height: 88px;\r\n            border-radius: 44px;\r\n            background-color: rgba(70,70,70,.8);\r\n            font-size: 26px;/*px*/\r\n            color: #ffffff;\r\n            margin-bottom: 10px;\r\n            text-align: center;\r\n            line-height: 88px;\r\n          }\r\n        }\r\n      }\r\n      .plus-goods{\r\n        display: flex;\r\n        width: 180px;\r\n        height: 88px;\r\n        background-color: rgba(51,51,51,.9);\r\n        border-radius: 44px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 28px;/*px*/\r\n        color: #ffffff;\r\n        .icon{\r\n          width: 40px;\r\n          margin-right: 6px;\r\n        }\r\n      }\r\n      .wait-pay{\r\n        width: 480px;\r\n        height: 88px;\r\n        background-color: $themeColor;\r\n        border-radius: 44px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-end;\r\n        flex-shrink: 0;\r\n        border:1px solid #F2F2F5;\r\n        .lump-sum{\r\n          flex-grow: 1;\r\n          font-size: 28px;/*px*/\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          .amount{\r\n            font-size: 32px;/*px*/\r\n            font-weight: 600;\r\n          }\r\n        }\r\n        button{\r\n          width: 180px;\r\n          height: 88px;\r\n          border-radius: 0 44px 44px 0;\r\n          background-color: rgba(51,51,51,.9);\r\n          font-size: 28px;\r\n          color: $themeColor;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/quick_meal_confirm/quick_meal_confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm-pay-page\"},[_c('div',{staticClass:\"goods-ready-pay\",style:({visibility: 'visible'})},[_c('div',{staticClass:\"base-info\"},[_c('div',{staticClass:\"l\"},[(_vm.storeLogo)?_c('img',{attrs:{\"src\":require(\"../../assets/img/pay/order_img_shop@2x.png\")}}):_c('img',{attrs:{\"src\":require(\"../../assets/img/pay/order_img_shop@2x.png\")}}),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.storeName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"goods-category\"},[_c('ul',{staticClass:\"goods-list\"},_vm._l((_vm.cartList),function(item,index){return _c('li',[(item.image_url)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.image_url),expression:\"item.image_url\"}],staticClass:\"goods-pic\"}):_c('img',{staticClass:\"goods-pic\",attrs:{\"src\":require(\"../../assets/img/common/goods_img_default_100@2x.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"goods-info\"},[_c('div',{staticClass:\"l\"},[_c('p',{staticClass:\"goods-name\"},[_vm._v(_vm._s(_vm._f(\"longStrFormat\")(item.name,17))),_c('span',{staticClass:\"unit\"},[_vm._v(\"/\"+_vm._s(item.unit))])]),_vm._v(\" \"),_c('p',{staticClass:\"adjuncts\"},[(item.taste.length > 0)?[_vm._l((item.taste),function(props,index){return _vm._l((props.items),function(taste,i){return _c('span',[_vm._v(\"\\n                      \"+_vm._s(taste.props_name)+\"\\n                      \"),[_vm._v(_vm._s(i === item.taste.length - 1 ? '；' : '，'))]],2)})})]:_vm._e(),_vm._v(\" \"),(item.adjunct.length > 0)?_vm._l((item.adjunct),function(adjunct,j){return _c('span',[_vm._v(\"\\n                      \"+_vm._s(adjunct.name + '×' + adjunct.num)+\"\\n                      \"),[_vm._v(_vm._s(j === item.adjunct.length - 1 ? '；' : '，'))]],2)}):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"r\"},[_c('div',{staticClass:\"price\"},[_c('p',{staticClass:\"finally-price\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(item.member_price)))]),_vm._v(\" \"),(_vm.NP.round(parseFloat(item.price) - parseFloat(item.member_price),2) > 0)?_c('p',{staticClass:\"original-price\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(item.price)))]):_vm._e()])]),_vm._v(\" \"),_c('p',{staticClass:\"single-total\"},[_vm._v(\"×\"+_vm._s(item.num))])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"remark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.markEdit($event)}}},[_c('span',[_vm._v(\"备注：\")]),_vm._v(\" \"),(_vm.mark_editing)?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mark_text),expression:\"mark_text\"}],ref:\"mark\",domProps:{\"value\":(_vm.mark_text)},on:{\"blur\":_vm.showMark,\"input\":function($event){if($event.target.composing){ return; }_vm.mark_text=$event.target.value}}})]:[_c('span',[_vm._v(_vm._s(_vm.mark_text))]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../assets/img/common/icon_edit@2x.png\")}})]],2),_vm._v(\" \"),_c('div',{staticClass:\"sum-up\"},[_c('div',{staticClass:\"l\"},[_vm._v(\"\\n        商品共\"+_vm._s(_vm.totalData.num)+\"份\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"r\"},[_c('div',{staticClass:\"member-discount\"},[_c('div',{staticClass:\"member-label\"},[_vm._v(_vm._s(_vm.lvName))]),_vm._v(\" \"),_c('div',{staticClass:\"discount-amount\"},[_c('span',{staticClass:\"txt\"},[_vm._v(\"已优惠\")]),_vm._v(\" \"),_c('span',{staticClass:\"num\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(_vm.totalData.discount)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"lump-sum\"},[_c('span',{staticClass:\"txt\"},[_vm._v(\"小计\")]),_vm._v(\" \"),_c('span',{staticClass:\"num\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(_vm.totalData.total)))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"deduction\"},[_c('div',{staticClass:\"coupon\",on:{\"click\":_vm.showUsableCoupon}},[_c('span',{staticClass:\"label\"},[_vm._v(\"\\n        优惠券\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"r\"},[(_vm.couponCode)?_c('span',{staticClass:\"usable\"},[_vm._v(\"\\n          \"+_vm._s(_vm.couponName)+\"\\n        \")]):(_vm.coupons.length === 0)?_c('span',{staticClass:\"unusable\"},[_vm._v(\"\\n          无可用的优惠券\\n        \")]):_c('span',{staticClass:\"useble\"},[_vm._v(\"\\n          \"+_vm._s(_vm.coupons.length)+\"张\\n        \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../assets/img/common/arrow_right@2x.png\")}})])]),_vm._v(\" \"),_c('div',{staticClass:\"integral\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"积分\")]),_vm._v(\" \"),_c('div',{staticClass:\"r\",on:{\"click\":_vm.showUsebleIntegral}},[(!_vm.score)?_c('span',{staticClass:\"unusable\"},[_vm._v(\"\\n          未使用积分（\"+_vm._s(_vm.point.total_point)+\"可用）\\n        \")]):_c('span',{staticClass:\"usable\"},[_vm._v(\"\\n          已使用\"+_vm._s(_vm.score)+\"积分\\n        \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../assets/img/common/arrow_right@2x.png\")}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"floating\"},[_c('div',{staticClass:\"features\"},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.add}},[_vm._v(\"\\n        返回\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"wait-pay\"},[_c('div',{staticClass:\"lump-sum\"},[_c('span',[_vm._v(\"合计\")]),_vm._v(\" \"),_c('span',{staticClass:\"amount\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"formatActualMoney\")(_vm.pay_amount)))])]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.goPay}},[_vm._v(\"提交订单\")])])]),_vm._v(\" \"),_c('use-integral',{attrs:{\"point\":_vm.point},on:{\"usePointCallback\":_vm.useScore,\"autoScroll\":_vm.autoScroll},model:{value:(_vm.useIntegralViewVisible),callback:function ($$v) {_vm.useIntegralViewVisible=$$v},expression:\"useIntegralViewVisible\"}}),_vm._v(\" \"),_c('use-coupons',{attrs:{\"total-amount\":_vm.total_amount,\"coupons\":_vm.coupons},on:{\"cancelUseCouponCallback\":_vm.cancelUseCoupon,\"useCouponCallback\":_vm.useCoupon},model:{value:(_vm.useCouponsViewVisible),callback:function ($$v) {_vm.useCouponsViewVisible=$$v},expression:\"useCouponsViewVisible\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae1fd5bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/quick_meal_confirm/quick_meal_confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ae1fd5bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./quick_meal_confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./quick_meal_confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./quick_meal_confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ae1fd5bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./quick_meal_confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ae1fd5bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/quick_meal_confirm/quick_meal_confirm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}