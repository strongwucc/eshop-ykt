{"version":3,"sources":["webpack:///./src/assets/img/people_num/icon_tick_black@2x.png","webpack:///src/components/people_num/people_num.vue","webpack:///./src/components/people_num/people_num.vue?d958","webpack:///./src/components/people_num/people_num.vue"],"names":["module","exports","people_num","name","data","storeId","this","$route","params","deskId","storeInfo","remarks","selectedIndex","peopleNum","morePeople","moreViewVisible","inputNum","inputNumPlaceholder","openStatus","deskStatusTimer","created","mounted","_this","$nextTick","getStoreInfo","destroyed","beforeDestroy","clearInterval","methods","extends_default","Object","vuex_esm","_this2","$http","post","API","seller","store_info","store_id","desk_id","then","res","return_code","store","set_user_cart","user_cart","set_common_data_store_info","set_common_data_desk_info","desk","status","$router","push","info","people","order_id","clearDesk","setInterval","deskStatus","$myToast","return_msg","selectNum","index","cancelInput","confirmInput","parseInt","goShopping","_this3","store_opend","mark_text","desk_info","$store","state","common","common_data","replace","catch","err","_this4","desk_status","_this5","desk_init","people_num_people_num","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_v","directives","rawName","value","expression","_s","store_name","_l","item","on","click","$event","attrs","src","__webpack_require__","_e","for","type","id","placeholder","domProps","input","target","composing","popup-transition","model","callback","$$v","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/37.3ed14a37a34ba0eb7ab8.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcwMzY4ODQwOUY4MjExRTg4NkRGOEI1QUIwRDMwRTdEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcwMzY4ODQxOUY4MjExRTg4NkRGOEI1QUIwRDMwRTdEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzAzNjg4M0U5RjgyMTFFODg2REY4QjVBQjBEMzBFN0QiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzAzNjg4M0Y5RjgyMTFFODg2REY4QjVBQjBEMzBFN0QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6eW7CBAAAA9klEQVR42pzSr2sCcRjH8dNzYnDahvgPmMSgZRgWBoJBgximglgNNsP+gOFgVcFokGHSIIggIibBvLpoETGsTlDfDzzC4S88D14cd9/7fHm+z3OOWDRi3HH5McTWeUfYjR6e5cEMBgN2wibaSOEXCbsV1PGGFZJyt7PBO8r4w6tWYMgG32jBdSUswRr+kcHPYUFCUYTwgKJ09iic1tLlfR4T66JUkMACBTTgsKy/oKPNq6B70lWmIGcaaHMk4MEYYYzwiA98nR2LjnGtH+e0QV584glNVC/O1fIfLDHVc0olPvRRwu6WDQztxQxxzJHF5tps9wIMAG9mK29zLVoLAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/people_num/icon_tick_black@2x.png\n// module id = GJjj\n// module chunks = 37","<template>\r\n    <div class=\"people-num-page\" ref=\"peopleNumPage\">\r\n      <div class=\"banner\">\r\n        <div class=\"mask\">\r\n          <div class=\"icon\">\r\n            <i></i>\r\n            <img v-lazy=\"storeInfo.store_log\">\r\n            <!--<img src=\"../../assets/img/people_num/icon_mendian@2x.png\">-->\r\n            <i></i>\r\n          </div>\r\n          <p class=\"store-name\">{{storeInfo.store_name}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"main\">\r\n        <h4 class=\"title\">请选择就餐人数</h4>\r\n        <ul class=\"choose-list\">\r\n          <li class=\"num\" v-for=\"(item, index) in peopleNum\" @click=\"selectNum(index)\">\r\n            {{item}}人\r\n            <div class=\"selected\" v-if=\"index === selectedIndex\">\r\n              <img src=\"../../assets/img/people_num/icon_tick_black@2x.png\">\r\n              <div class=\"bg-color\"></div>\r\n            </div>\r\n          </li>\r\n          <li class=\"more\" @click=\"moreViewVisible = true\">\r\n            {{morePeople}}\r\n            <div class=\"selected\" v-if=\"selectedIndex === 12\">\r\n              <img src=\"../../assets/img/people_num/icon_tick_black@2x.png\">\r\n              <div class=\"bg-color\"></div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <div class=\"remarks\">\r\n          <label for=\"_remarks\">备注：</label>\r\n          <input type=\"text\" id=\"_remarks\" v-model=\"remarks\" placeholder=\"口味要求、忌口等(可不填)\"/>\r\n        </div>\r\n        <div class=\"confirm\">\r\n          <button @click=\"goShopping\">开始点餐</button>\r\n        </div>\r\n      </div>\r\n      <mt-popup\r\n        v-model=\"moreViewVisible\"\r\n        popup-transition=\"popup-fade\"\r\n      >\r\n        <div class=\"more-view\">\r\n          <h4 class=\"title\">输入人数</h4>\r\n          <div class=\"input-num\">\r\n            <input type=\"tel\" v-model=\"inputNum\" :placeholder=\"inputNumPlaceholder\"/>\r\n          </div>\r\n          <div class=\"btn\">\r\n            <button class=\"cancel\" @click=\"cancelInput\">取消</button>\r\n            <button class=\"confirm\" @click=\"confirmInput\">确定</button>\r\n          </div>\r\n        </div>\r\n      </mt-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapMutations} from 'vuex'\r\n  export default {\r\n    name: \"people_num\",\r\n    data () {\r\n      return {\r\n        storeId: this.$route.params.storeId,\r\n        deskId: this.$route.params.deskId,\r\n        storeInfo: [], //门店信息\r\n        remarks: '',//备注\r\n        selectedIndex: '',\r\n        peopleNum: [1,2,3,4,5,6,7,8,9,10,11],\r\n        morePeople: '更多',\r\n        moreViewVisible: false,\r\n        inputNum: '',\r\n        inputNumPlaceholder: '请输入就餐人数',\r\n        openStatus: false, // 开桌状态\r\n        deskStatusTimer: null,\r\n      }\r\n    },\r\n    created () {\r\n\r\n    },\r\n    mounted () {\r\n      // this.$refs.peopleNumPage.addEventListener('touchmove', function (e) {\r\n      //   e.preventDefault()\r\n      // })\r\n      this.$nextTick(() => {\r\n        this.getStoreInfo()\r\n      })\r\n    },\r\n    destroyed () {\r\n      // this.$refs.peopleNumPage.removeEventListener('touchmove', function (e) {\r\n      //   e.preventDefault()\r\n      // })\r\n    },\r\n    beforeDestroy () {\r\n      clearInterval(this.deskStatusTimer)\r\n    },\r\n    methods: {\r\n      ...mapMutations([\r\n        'set_user_cart',\r\n        'set_common_data_store_info',\r\n        'set_common_data_desk_info'\r\n      ]),\r\n\r\n      //获取门店信息\r\n      getStoreInfo () {\r\n        this.$http.post(this.API.seller.store_info,{store_id:this.storeId,desk_id:this.deskId}).then(res => {\r\n          if (res.return_code == '0000') {\r\n            this.storeInfo = res.data.store\r\n            this.set_user_cart(res.data.user_cart);\r\n            this.set_common_data_store_info(res.data.store)\r\n            this.set_common_data_desk_info(res.data.desk)\r\n            // 0未开桌,1已开桌,3已下单已接单,3已下单未接单,4未支付（未使用优惠券和积分抵扣）,5未支付（使用过优惠券和积分抵扣）6 已支付\r\n            if (res.data.desk.status == '1') {\r\n              this.$router.push('/store/'+this.storeId+'/'+this.deskId+'/'+res.data.desk.info.people)\r\n            }else if (res.data.desk.status == '2') {\r\n              this.$router.push('/confirm_pay/'+this.deskId)\r\n            } else if (res.data.desk.status == '3') {\r\n              this.$router.push('/merchant_confirm/'+this.deskId)\r\n            } else if (res.data.desk.status == '4' || res.data.desk.status == '5') {\r\n              this.$router.push('/order_detail/dine_detail/'+res.data.desk.info.order_id)\r\n            } else if (res.data.desk.status == '6') {\r\n              this.clearDesk()\r\n            } else {\r\n              this.deskStatusTimer = setInterval(this.deskStatus,5000)\r\n            }\r\n\r\n          } else {\r\n            this.$myToast(res.return_msg)\r\n            return\r\n          }\r\n        });\r\n      },\r\n      selectNum (index) {\r\n        this.selectedIndex = index\r\n        this.inputNum = this.peopleNum[index]\r\n      },\r\n\r\n      cancelInput () {\r\n        this.moreViewVisible = false\r\n        this.selectedIndex = ''\r\n        this.inputNum = ''\r\n        this.morePeople = '更多'\r\n      },\r\n\r\n      confirmInput () {\r\n        if (parseInt(this.inputNum) > 11) {\r\n          this.moreViewVisible = false\r\n          this.selectedIndex = 12\r\n          this.morePeople = this.inputNum + '人'\r\n        } else {\r\n          this.inputNum = ''\r\n          this.inputNumPlaceholder = '请输入大于11的数字'\r\n        }\r\n      },\r\n      goShopping () {\r\n        if (this.openStatus == false) {\r\n          let storeId = this.storeId\r\n          let deskId = this.deskId\r\n          let people = this.inputNum\r\n\r\n          if (!people) {\r\n            this.$myToast('请选择就餐人数')\r\n            return false\r\n          }\r\n\r\n          this.$http.post(this.API.seller.store_opend,{store_id: storeId, desk_id: deskId, people: people, mark_text: this.remarks}).then(res => {\r\n            if (res.return_code === '0000') {\r\n              this.openStatus = true\r\n              let desk_info = this.$store.state.common.common_data.desk_info\r\n              let info = {people: people}\r\n              desk_info.info = info\r\n              this.set_common_data_desk_info(desk_info)\r\n              this.$router.push('/store/'+this.storeId+'/'+this.deskId+'/'+this.inputNum)\r\n            } else {\r\n              this.$router.replace('/error/请您联系服务员')\r\n            }\r\n          }).catch(err => {\r\n          })\r\n        } else {\r\n        }\r\n      },\r\n      deskStatus () {\r\n\r\n        if (this.deskId) {\r\n          this.$http.post(this.API.seller.desk_status,{desk_id: this.deskId}).then(res => {\r\n            if (res.return_code === '0000') {\r\n              if (res.data.status == '1') {\r\n                this.$router.push('/store/'+this.storeId+'/'+this.deskId+'/'+res.data.people)\r\n              }else if (res.data.status == '2') {\r\n                this.$router.push('/confirm_pay/'+this.deskId)\r\n              } else if (res.data.status == '3') {\r\n                this.$router.push('/merchant_confirm/'+this.deskId)\r\n              } else if (res.data.status == '4' || res.data.status == '5') {\r\n                this.$router.push('/order_detail/dine_detail/'+res.data.order_id)\r\n              } else if (res.data.status == '6') {\r\n                this.$router.push('/order_detail/dine_detail/'+res.data.order_id)\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n      },\r\n      clearDesk () {\r\n        if (this.deskId) {\r\n          this.$http.post(this.API.seller.desk_init,{desk_id: this.deskId}).then(res => {\r\n            if (res.return_code === '0000') {\r\n              this.$router.push('/store/'+this.storeId+'/'+this.deskId+'/'+res.data.people)\r\n            } else {\r\n              this.$router.replace('/error/哎呀！出错啦，请重新扫码')\r\n            }\r\n          })\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../assets/css/mixin\";\r\n  @import \"../../assets/css/common\";\r\n  .people-num-page{\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    .banner{\r\n      width: 100%;\r\n      height: 420px;\r\n      background-image: url(\"../../assets/img/people_num/img1@2x.png\");\r\n      background-repeat: no-repeat;\r\n      background-size: 100% auto;\r\n      background-position: center;\r\n      .mask{\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0,0,0,.3);\r\n        .icon{\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 0;\r\n          padding-top: 92px;\r\n          i{\r\n            width: 34px;\r\n            height: 4px;/*px*/\r\n            background-color: #ffffff;\r\n            transform: scaleY(0.25);\r\n            transform-origin: center;\r\n          }\r\n          img{\r\n            width: 114px;\r\n            margin: 0 12px;\r\n          }\r\n        }\r\n        .store-name{\r\n          text-align: center;\r\n          margin-top: 20px;\r\n          font-size: 40px;/*px*/\r\n          color: #ffffff;\r\n        }\r\n      }\r\n    }\r\n    .main{\r\n      position: relative;\r\n      flex-grow: 1;\r\n      width: 100%;\r\n      background-color: #303030;\r\n      padding: 0 54px;\r\n      .title{\r\n        padding: 42px 0 32px 0;\r\n        color: #ffffff;\r\n        font-size: 28px;/*px*/\r\n      }\r\n      .choose-list{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        li{\r\n          position: relative;\r\n          overflow: hidden;\r\n          width: 180px;\r\n          line-height: 80px;\r\n          border: 2px solid rgba(225,215,38,.3);\r\n          border-radius: 8px;\r\n          font-size: 28px;/*px*/\r\n          color: $themeColor;\r\n          margin-bottom: 20px;\r\n          text-align: center;\r\n          .selected{\r\n            position: absolute;\r\n            width: 56px;\r\n            height: 56px;\r\n            bottom: -30px;\r\n            right: -30px;\r\n            img{\r\n              position: absolute;\r\n              top: 8px;\r\n              left: 6px;\r\n              width: 18px;\r\n              z-index: 9;\r\n            }\r\n            .bg-color{\r\n              position: absolute;\r\n              top: 0;\r\n              left: 0;\r\n              width: 100%;\r\n              height: 100%;\r\n              background-color: $themeColor;\r\n              transform: rotateZ(45deg);\r\n              transform-origin: center;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .remarks{\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 26px;/*px*/\r\n        color: #ffffff;\r\n        label{\r\n          /*line-height: 50px;*/\r\n          padding-top: 2px;\r\n        }\r\n        input{\r\n          flex-grow: 1;\r\n          height: 80px;\r\n          background-color: rgba(0,0,0,0);\r\n          font-size: 26px;/*px*/\r\n          color: #ffffff;\r\n          line-height: 1em;\r\n          padding-bottom: 2px;\r\n        }\r\n        input::-webkit-input-placeholder{\r\n          color:#bbbbbb;\r\n        }\r\n        input::-moz-placeholder{   /* Mozilla Firefox 19+ */\r\n          color:#bbbbbb;\r\n        }\r\n        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\r\n          color:#bbbbbb;\r\n        }\r\n        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */\r\n          color:#bbbbbb;\r\n        }\r\n      }\r\n      .confirm{\r\n        position: absolute;\r\n        width: 100%;\r\n        bottom: 82px;\r\n        left: 0;\r\n        padding: 0 54px;\r\n        button{\r\n          font-size: 30px;/*px*/\r\n          background-color: $themeColor;\r\n          width: 100%;\r\n          height: 88px;\r\n          border-radius: 8px;\r\n        }\r\n      }\r\n    }\r\n    .mint-popup{\r\n      background-color: rgba(0,0,0,0);\r\n      .more-view{\r\n        width: 650px;\r\n        background-color: #ffffff;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n        .title{\r\n          text-align: center;\r\n          padding-top: 48px;\r\n          font-size: 32px;/*px*/\r\n        }\r\n        .input-num{\r\n          position: relative;\r\n          width: 420px;\r\n          height: 88px;\r\n          margin: 40px auto 65px auto;\r\n          input{\r\n            position: relative;\r\n            z-index: 9;\r\n            text-align: center;\r\n            width: 94%;\r\n            height: 80px;\r\n            margin: 4px 3%;\r\n            font-size: 28px;/*px*/\r\n          }\r\n          &:after{\r\n            @include all-border-1px(#dddddd, 8px);\r\n          }\r\n        }\r\n        input::-webkit-input-placeholder{\r\n          color:#bbbbbb;\r\n        }\r\n        input::-moz-placeholder{   /* Mozilla Firefox 19+ */\r\n          color:#bbbbbb;\r\n        }\r\n        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\r\n          color:#bbbbbb;\r\n        }\r\n        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */\r\n          color:#bbbbbb;\r\n        }\r\n        .btn{\r\n          display: flex;\r\n          button{\r\n            width: 50%;\r\n            height: 88px;\r\n            font-size: 30px;/*px*/\r\n          }\r\n          .cancel{\r\n            background-color: #eeeeee;\r\n          }\r\n          .confirm{\r\n            background-color: $themeColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/people_num/people_num.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"peopleNumPage\",staticClass:\"people-num-page\"},[_c('div',{staticClass:\"banner\"},[_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"icon\"},[_c('i'),_vm._v(\" \"),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.storeInfo.store_log),expression:\"storeInfo.store_log\"}]}),_vm._v(\" \"),_c('i')]),_vm._v(\" \"),_c('p',{staticClass:\"store-name\"},[_vm._v(_vm._s(_vm.storeInfo.store_name))])])]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"请选择就餐人数\")]),_vm._v(\" \"),_c('ul',{staticClass:\"choose-list\"},[_vm._l((_vm.peopleNum),function(item,index){return _c('li',{staticClass:\"num\",on:{\"click\":function($event){_vm.selectNum(index)}}},[_vm._v(\"\\n        \"+_vm._s(item)+\"人\\n        \"),(index === _vm.selectedIndex)?_c('div',{staticClass:\"selected\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/people_num/icon_tick_black@2x.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-color\"})]):_vm._e()])}),_vm._v(\" \"),_c('li',{staticClass:\"more\",on:{\"click\":function($event){_vm.moreViewVisible = true}}},[_vm._v(\"\\n        \"+_vm._s(_vm.morePeople)+\"\\n        \"),(_vm.selectedIndex === 12)?_c('div',{staticClass:\"selected\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/people_num/icon_tick_black@2x.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-color\"})]):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"remarks\"},[_c('label',{attrs:{\"for\":\"_remarks\"}},[_vm._v(\"备注：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remarks),expression:\"remarks\"}],attrs:{\"type\":\"text\",\"id\":\"_remarks\",\"placeholder\":\"口味要求、忌口等(可不填)\"},domProps:{\"value\":(_vm.remarks)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.remarks=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"confirm\"},[_c('button',{on:{\"click\":_vm.goShopping}},[_vm._v(\"开始点餐\")])])]),_vm._v(\" \"),_c('mt-popup',{attrs:{\"popup-transition\":\"popup-fade\"},model:{value:(_vm.moreViewVisible),callback:function ($$v) {_vm.moreViewVisible=$$v},expression:\"moreViewVisible\"}},[_c('div',{staticClass:\"more-view\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"输入人数\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-num\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputNum),expression:\"inputNum\"}],attrs:{\"type\":\"tel\",\"placeholder\":_vm.inputNumPlaceholder},domProps:{\"value\":(_vm.inputNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputNum=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('button',{staticClass:\"cancel\",on:{\"click\":_vm.cancelInput}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{staticClass:\"confirm\",on:{\"click\":_vm.confirmInput}},[_vm._v(\"确定\")])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cf2b0bb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/people_num/people_num.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cf2b0bb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75,\\\"baseDpr\\\":2}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./people_num.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./people_num.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./people_num.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cf2b0bb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./people_num.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3cf2b0bb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/people_num/people_num.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}