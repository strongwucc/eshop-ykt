webpackJsonp([50],{"/xr7":function(e,t){},ye9z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GJzV"),o=(a("VUa8"),a("24Yc"),a("3XNK")),r={name:"bind_card",data:function(){return{cardNo:"",password:"",tipInfo:{icon:"",txt:""},loading:!1,warnTip:!1}},components:{MyToast:n.a,back:o.a},mounted:function(){var e=this;this.$nextTick(function(){window.kb=new keyBoard({chaosMode:1,pressStatus:1,kbType:0,svg:"static/svg"}),window.kb.generate(),window.passGuard1=new passGuard({mappurl:"http://ceshi4.sdykt.com.cn:1280/demo/send_mapping",maxLength:6,regExp1:"[\\S\\s]",regExp2:"[0-9]{6,12}",displayMode:0,callBack:e.cb1,errorCallBack:e.cb2,rsaPublicKey:"30818902818100d17951540859261bcbb00fc61a9e2fb8be1f5794dabd87e87bbac84e975ac7f6f77a094c6b642b3a799bdbdf13841a47943cfb0831578b2e4d82f177b9350e211db3dc84111eb4f0b92bc7d1379436a0f631be371682839461a11d6d2e65cb0c45c526d15429b706ff14498e3fd6c4683ca1092054f5ac95f679ba699fd789d50203010001"}),window.passGuard1.generate("kb1",window.kb,1)})},methods:{beHide:function(e){this.warnTip=e},confirm:function(){if(!this.cardNo)return this.warnTip=!0,this.tipInfo={type:"warn",txt:"请输入卡号"},!1;if(1==window.passGuard1.getValid())return this.warnTip=!0,this.tipInfo={type:"warn",txt:"请输入6位数交易密码"},!1;var e=this;$.ajax({url:"http://ceshi4.sdykt.com.cn:1280/demo/send_randkey?"+this.get_time(),type:"GET",async:!1,success:function(t){console.log(t),window.passGuard1.setRandKey(t);var a=window.passGuard1.getOutput();document.getElementById("kb1").value="";for(var n=1;n<=Le;n++)$("#kb"+n).attr("placeholder",PH.arrPlace[n-1]);e.cardPayViewVisible=!1,console.log(a),e.$myLoading.open({text:"加载中...",spinnerType:"fading-circle"}),e.loading=!0,e.$http.post(e.API.user.bind_card,{card_no:e.cardNo,password:a,key:t}).then(function(t){return e.$myLoading.close(),e.loading=!1,"0000"===t.return_code?(e.$router.go(-1),!0):(e.$myToast(t.return_msg),!1)})}})},cb1:function(){console.log("cb1")},cb2:function(){console.log("cb2")},get_time:function(){return(new Date).getTime().toString()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bind-card-page"},[a("div",{staticClass:"input-box reset-pw"},[a("label",{attrs:{for:"cardNo"}},[e._v("卡号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cardNo,expression:"cardNo"}],attrs:{type:"tel",id:"cardNo",placeholder:"请输入卡号"},domProps:{value:e.cardNo},on:{input:function(t){t.target.composing||(e.cardNo=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-box confirm-pw"},[a("label",{attrs:{for:"kb1"}},[e._v("支付密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"tel",maxlength:"6",id:"kb1",placeholder:"请输入卡密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"confirm",on:{click:e.confirm}},[e._v("绑卡")]),e._v(" "),a("back"),e._v(" "),a("my-toast",{staticClass:"customize-toast",attrs:{visible:e.warnTip,options:e.tipInfo},on:{hideToast:e.beHide}})],1)},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(e){a("/xr7")},"data-v-63f1f0a3",null);t.default=i.exports}});
//# sourceMappingURL=50.c827054d19d590f5cdfc.js.map