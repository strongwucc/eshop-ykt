webpackJsonp([49],{gpSW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),o=a("NYxO"),i=a("GJzV"),r=(a("VUa8"),a("24Yc"),a("3XNK")),c=a("0iPh"),d=a.n(c),p={name:"set_card_pw",data:function(){return{nowPw:"",confirmPw:"",tipInfo:{icon:"",txt:""},warnTip:!1,loading:!1}},components:{MyToast:i.a,back:r.a},mounted:function(){var e=this;this.$nextTick(function(){window.kb=new keyBoard({chaosMode:1,pressStatus:1,kbType:0,svg:"static/svg"}),window.kb.generate(),window.passGuard1=new passGuard({mappurl:"http://ceshi4.sdykt.com.cn:1280/demo/send_mapping",maxLength:6,regExp1:"[\\S\\s]",regExp2:"[0-9]{6,12}",displayMode:0,callBack:e.cb1,errorCallBack:e.cb2,rsaPublicKey:"30818902818100d17951540859261bcbb00fc61a9e2fb8be1f5794dabd87e87bbac84e975ac7f6f77a094c6b642b3a799bdbdf13841a47943cfb0831578b2e4d82f177b9350e211db3dc84111eb4f0b92bc7d1379436a0f631be371682839461a11d6d2e65cb0c45c526d15429b706ff14498e3fd6c4683ca1092054f5ac95f679ba699fd789d50203010001"}),window.passGuard1.generate("kb1",window.kb,1),window.passGuard2=new passGuard({mappurl:"http://ceshi4.sdykt.com.cn:1280/demo/send_mapping",maxLength:6,regExp1:"[\\S\\s]",regExp2:"[0-9]{6,12}",displayMode:0,callBack:e.cb1,errorCallBack:e.cb2,rsaPublicKey:"30818902818100d17951540859261bcbb00fc61a9e2fb8be1f5794dabd87e87bbac84e975ac7f6f77a094c6b642b3a799bdbdf13841a47943cfb0831578b2e4d82f177b9350e211db3dc84111eb4f0b92bc7d1379436a0f631be371682839461a11d6d2e65cb0c45c526d15429b706ff14498e3fd6c4683ca1092054f5ac95f679ba699fd789d50203010001"}),window.passGuard2.generate("kb2",window.kb,1)})},methods:s()({},Object(o.b)(["set_user_info"]),{beHide:function(e){this.warnTip=e},confirm:function(){if(this.loading)return!1;if(1==window.passGuard1.getValid())return this.warnTip=!0,this.tipInfo={type:"warn",txt:"请输入6位数交易密码"},!1;if(1==window.passGuard2.getValid())return this.warnTip=!0,this.tipInfo={type:"warn",txt:"请输入确认密码"},!1;if(console.log(window.passGuard1.getHash()),console.log(window.passGuard2.getHash()),window.passGuard1.getHash()!=window.passGuard2.getHash())return this.warnTip=!0,this.tipInfo={type:"error",txt:"两次输入密码不一致"},!1;var e=this;d.a.ajax({url:"http://ceshi4.sdykt.com.cn:1280/demo/send_randkey?"+this.get_time(),type:"GET",async:!1,success:function(t){var a=this;console.log(t),window.passGuard1.setRandKey(t);var n=window.passGuard1.getOutput();console.log(n),e.$myLoading.open({text:"加载中...",spinnerType:"fading-circle"}),e.loading=!0,e.$http.post(e.API.user.activate_card,{password:n,key:t}).then(function(t){if(e.$myLoading.close(),e.loading=!1,"0000"===t.return_code){e.warnTip=!0,e.tipInfo={type:"success",txt:"激活成功"};var n=e.$store.state.user.user_info;return n.card_info.cardNum="1",a.set_user_info(n),e.$router.go(-1),!0}return e.warnTip=!0,e.tipInfo={type:"error",txt:t.return_msg},!1})}})},cb1:function(){console.log("cb1")},cb2:function(){console.log("cb2")},get_time:function(){return(new Date).getTime().toString()}})},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"set-card-pw-page"},[a("div",{staticClass:"input-box reset-pw"},[a("label",{attrs:{for:"kb1"}},[e._v("交易密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nowPw,expression:"nowPw"}],staticClass:"default",attrs:{type:"tel",maxlength:"6",id:"kb1",placeholder:"请输入6位数字交易密码"},domProps:{value:e.nowPw},on:{input:function(t){t.target.composing||(e.nowPw=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-box confirm-pw"},[a("label",{attrs:{for:"kb2"}},[e._v("确认密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPw,expression:"confirmPw"}],attrs:{type:"tel",maxlength:"6",id:"kb2",placeholder:"请再次输入新密码"},domProps:{value:e.confirmPw},on:{input:function(t){t.target.composing||(e.confirmPw=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确定")]),e._v(" "),a("back"),e._v(" "),a("my-toast",{staticClass:"customize-toast",attrs:{visible:e.warnTip,options:e.tipInfo},on:{hideToast:e.beHide}})],1)},staticRenderFns:[]};var f=a("VU/8")(p,b,!1,function(e){a("smfA")},"data-v-71b103ee",null);t.default=f.exports},smfA:function(e,t){}});
//# sourceMappingURL=49.dc7981d49b163901ef88.js.map