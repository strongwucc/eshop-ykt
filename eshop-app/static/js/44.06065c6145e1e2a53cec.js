webpackJsonp([44],{"59Ve":function(t,e){},un38:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),o={name:"applicable_store",data:function(){return{cid:this.$route.params.cid,stores:[]}},computed:a()({},Object(i.c)({location:function(t){return t.common.location}})),created:function(){this.getStoreList()},mounted:function(){this.setStyle()},methods:{setStyle:function(){document.querySelector(".scroll-wrapper").style.height=window.innerHeight-document.querySelector(".head").offsetHeight+"px"},getStoreList:function(){var t=this;this.$myLoading.open({text:"加载中...",spinnerType:"fading-circle"}),this.$http.post(this.API.user.coupon_stores,{cid:this.cid}).then(function(e){if(t.$myLoading.close(),"0000"!==e.return_code)return t.$myToast(e.return_msg),!1;t.stores=e.data.list})},distance:function(t,e){var s=t*Math.PI/180,n=this.location.point_y*Math.PI/180,a=s-n,i=e*Math.PI/180-this.location.point_x*Math.PI/180,o=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(s)*Math.cos(n)*Math.pow(Math.sin(i/2),2)));return o*=6378.137,(o=Math.round(1e4*o))>1e4?Math.round(o/1e4)+"公里":o+"米"}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"store-list-page"},[s("div",{staticClass:"head"},[t._v("共"+t._s(t.stores.length)+"家门店")]),t._v(" "),s("div",{staticClass:"scroll-wrapper"},t._l(t.stores,function(e){return s("div",{staticClass:"store"},[s("div",{staticClass:"t"},[s("span",{staticClass:"name"},[t._v(t._s(e.store_name))]),t._v(" "),s("span",{staticClass:"distance"},[t._v(t._s(t.distance(e.latitude,e.longitude)))])]),t._v(" "),s("div",{staticClass:"b"},[t._v(t._s(e.addr))])])}))])},staticRenderFns:[]};var c=s("VU/8")(o,r,!1,function(t){s("59Ve")},"data-v-41e8fa6a",null);e.default=c.exports}});
//# sourceMappingURL=44.06065c6145e1e2a53cec.js.map